var gStallArray=new Array;
function ReserveChip(aChipId){this.stallUseId=aChipId;this.svcInId="";this.dlrCd="";this.brnCd="";this.cstId="";this.vclId="";this.cstVclType="";this.tlmContractFlg="";this.acceptanceTpye="";this.pickDeliType="";this.carWashNeedFlg="";this.resvStatus="";this.svcStatus="";this.scheSvcInDateTime=new Date(C_DATE_DEFAULT_VALUE);this.scheDeliDateTime=new Date(C_DATE_DEFAULT_VALUE);this.rsltSvcInDateTime=new Date(C_DATE_DEFAULT_VALUE);this.rsltDeliDateTime=new Date(C_DATE_DEFAULT_VALUE);this.rowUpdateDateTime=
new Date(C_DATE_DEFAULT_VALUE);this.roNum="";this.rowLockVersion=0;this.jobDtlId="";this.inspectionNeedFlg="";this.inspectionApprovalFlg="";this.cancelFlg="";this.stallId="";this.tempFlg="";this.partsFlg="";this.stallUseStatus="";this.scheStartDateTime=new Date(C_DATE_DEFAULT_VALUE);this.scheEndDateTime=new Date(C_DATE_DEFAULT_VALUE);this.scheWorkTime=0;this.restFlg="";this.rsltStartDateTime=new Date(C_DATE_DEFAULT_VALUE);this.prmsEndDateTime=new Date(C_DATE_DEFAULT_VALUE);this.rsltEndDateTime=new Date(C_DATE_DEFAULT_VALUE);
this.rsltWorkTime=0;this.stopReasonType="";this.vclVin="";this.modelName="";this.regNum="";this.carWashRsltId=0;this.cwRsltStartDateTime=new Date(C_DATE_DEFAULT_VALUE);this.cwRsltEndDateTime=new Date(C_DATE_DEFAULT_VALUE);this.svcClassName="";this.svcClassNameEng="";this.upperDisp="";this.lowerDisp="";this.roJobSeq=-1;this.planDelayDate=new Date(C_DATE_DEFAULT_VALUE);this.addWorkStatus="";this.displayStartDate=new Date(C_DATE_DEFAULT_VALUE);this.displayEndDate=new Date(C_DATE_DEFAULT_VALUE);this.stopFlg=
false;this.delayStatus=C_NO_DELAY;this.tlmContractFlg="";this.impVclFlg="";if(IsKariKariChip(this.stallUseId)==false)if(HasChiphistory(this.stallUseId)==false){this.chiphisScheStartDateTime=new Date(C_DATE_DEFAULT_VALUE);this.chiphisScheEndDateTime=new Date(C_DATE_DEFAULT_VALUE);this.chiphisStallId="";this.chiphisSvcStatus="";this.chiphisResvStatus="";this.chiphisScheWorktime=0}this.remainingInspectionType=""}
ReserveChip.prototype={setChipParameter:function setChipParameter(aDataSet){this.setSvcInId(aDataSet.SVCIN_ID);this.setDlrCd(aDataSet.DLR_CD);this.setBrnCd(aDataSet.BRN_CD);this.setCstId(aDataSet.CST_ID);this.setVclId(aDataSet.VCL_ID);this.setCstVclType(aDataSet.CST_VCL_TYPE);this.setTlmContractFlg(aDataSet.TLM_CONTRACT_FLG);this.setAcceptanceTpye(aDataSet.ACCEPTANCE_TYPE);this.setPickDeliType(aDataSet.PICK_DELI_TYPE);this.setCarWashNeedFlg(aDataSet.CARWASH_NEED_FLG);this.setResvStatus(aDataSet.RESV_STATUS);
this.setSvcStatus(aDataSet.SVC_STATUS);this.setScheSvcInDateTime(aDataSet.SCHE_SVCIN_DATETIME);this.setScheDeliDateTime(aDataSet.SCHE_DELI_DATETIME);this.setRsltSvcInDateTime(aDataSet.RSLT_SVCIN_DATETIME);this.setRsltDeliDateTime(aDataSet.RSLT_DELI_DATETIME);this.setRowUpdateDateTime(aDataSet.ROW_UPDATE_DATETIME);this.setRowLockVersion(aDataSet.ROW_LOCK_VERSION);this.setRoNum(aDataSet.RO_NUM);this.setJobDtlId(aDataSet.JOB_DTL_ID);this.setInspectionNeedFlg(aDataSet.INSPECTION_NEED_FLG);this.setInspectionApprovalFlg(aDataSet.INSPECTION_STATUS);
this.setCancelFlg(aDataSet.CANCEL_FLG);this.setStallUseId(aDataSet.STALL_USE_ID);this.setStallId(aDataSet.STALL_ID);this.setTempFlg(aDataSet.TEMP_FLG);this.setPartsFlg(aDataSet.PARTS_FLG);this.setStallUseStatus(aDataSet.STALL_USE_STATUS);this.setScheStartDateTime(aDataSet.SCHE_START_DATETIME);this.setScheEndDateTime(aDataSet.SCHE_END_DATETIME);this.setScheWorkTime(aDataSet.SCHE_WORKTIME);this.setRestFlg(aDataSet.REST_FLG);this.setRsltStartDateTime(aDataSet.RSLT_START_DATETIME);this.setPrmsEndDateTime(aDataSet.PRMS_END_DATETIME);
this.setRsltEndDateTime(aDataSet.RSLT_END_DATETIME);this.setRsltWorkTime(aDataSet.RSLT_WORKTIME);this.setStopReasonType(aDataSet.STOP_REASON_TYPE);this.setVclVin(aDataSet.VCL_VIN);this.setModelName(aDataSet.MODEL_NAME);this.setRegNum(aDataSet.REG_NUM);this.setCarWashRsltId(aDataSet.CARWASH_RSLT_ID);this.setCwRsltStartDateTime(aDataSet.CW_RSLT_START_DATETIME);this.setCwRsltEndDateTime(aDataSet.CW_RSLT_END_DATETIME);this.setSvcClassName(aDataSet.SVC_CLASS_NAME);this.setSvcClassNameEng(aDataSet.SVC_CLASS_NAME_ENG);
this.setUpperDisp(aDataSet.UPPER_DISP);this.setLowerDisp(aDataSet.LOWER_DISP);this.setRoJobSeq(aDataSet.RO_JOB_SEQ);this.setPlanDelayDate(aDataSet.PLAN_DELAYDATE);this.setAddWorkStatus(aDataSet.ADDWORK_STATUS);this.setRemainingInspectionType(aDataSet.REMAINING_INSPECTION_TYPE);this.setImpVclFlg(aDataSet.IMP_VCL_FLG);if(aDataSet.DISPLAY_STARTDATE){this.setDisplayStartDate(aDataSet.DISPLAY_STARTDATE);this.setDisplayEndDate(aDataSet.DISPLAY_ENDDATE)}else this.setDisplayDate()},SetWorkingChipHis:function SetWorkingChipHis(aDataSet){this.chiphisScheStartDateTime=
new Date(aDataSet.SCHE_START_DATETIME);this.chiphisScheEndDateTime=new Date(aDataSet.SCHE_END_DATETIME);this.chiphisStallId=aDataSet.STALL_ID;this.chiphisSvcStatus=aDataSet.SVC_STATUS;this.chiphisResvStatus=aDataSet.RESV_STATUS;this.chiphisScheWorktime=aDataSet.SCHE_WORKTIME},clearWorkingChipHisInfo:function clearWorkingChipHisInfo(){this.chiphisScheStartDateTime=new Date(C_DATE_DEFAULT_VALUE);this.chiphisScheEndDateTime=new Date(C_DATE_DEFAULT_VALUE);this.chiphisStallId="";this.chiphisSvcStatus=
"";this.chiphisResvStatus="";this.chiphisScheWorktime=0},setKariKariChipParameter:function setKariKariChipParameter(aDataSet){this.setSvcInId(aDataSet.SVCIN_ID);this.setJobDtlId(aDataSet.JOB_DTL_ID);this.setStallUseId(aDataSet.SVCIN_TEMP_RESV_ID);this.setStallId(aDataSet.STALL_ID);this.setDisplayStartDate(aDataSet.START_DATETIME);this.setDisplayEndDate(aDataSet.END_DATETIME);this.setModelName(aDataSet.STF_NAME)},copy:function copy(objDestChip){objDestChip.svcInId=this.svcInId;objDestChip.dlrCd=this.dlrCd;
objDestChip.brnCd=this.brnCd;objDestChip.cstId=this.cstId;objDestChip.vclId=this.vclId;objDestChip.cstVclType=this.cstVclType;objDestChip.tlmContractFlg=this.tlmContractFlg;objDestChip.acceptanceTpye=this.acceptanceTpye;objDestChip.pickDeliType=this.pickDeliType;objDestChip.carWashNeedFlg=this.carWashNeedFlg;objDestChip.resvStatus=this.resvStatus;objDestChip.svcStatus=this.svcStatus;objDestChip.scheSvcInDateTime=new Date(this.scheSvcInDateTime);objDestChip.scheDeliDateTime=new Date(this.scheDeliDateTime);
objDestChip.rsltSvcInDateTime=new Date(this.rsltSvcInDateTime);objDestChip.rsltDeliDateTime=new Date(this.rsltDeliDateTime);objDestChip.rowUpdateDateTime=new Date(this.rowUpdateDateTime);objDestChip.rowLockVersion=this.rowLockVersion;objDestChip.jobDtlId=this.jobDtlId;objDestChip.inspectionNeedFlg=this.inspectionNeedFlg;objDestChip.inspectionApprovalFlg=this.inspectionApprovalFlg;objDestChip.cancelFlg=this.cancelFlg;objDestChip.stallUseId=this.stallUseId;objDestChip.stallId=this.stallId;objDestChip.tempFlg=
this.tempFlg;objDestChip.partsFlg=this.partsFlg;objDestChip.stallUseStatus=this.stallUseStatus;objDestChip.scheStartDateTime=new Date(this.scheStartDateTime);objDestChip.scheEndDateTime=new Date(this.scheEndDateTime);objDestChip.scheWorkTime=this.scheWorkTime;objDestChip.restFlg=this.restFlg;objDestChip.rsltStartDateTime=new Date(this.rsltStartDateTime);objDestChip.prmsEndDateTime=new Date(this.prmsEndDateTime);objDestChip.rsltEndDateTime=new Date(this.rsltEndDateTime);objDestChip.rsltWorkTime=this.rsltWorkTime;
objDestChip.stopReasonType=this.stopReasonType;objDestChip.vclVin=this.vclVin;objDestChip.modelName=this.modelName;objDestChip.regNum=this.regNum;objDestChip.carWashRsltId=this.carWashRsltId;objDestChip.cwRsltStartDateTime=new Date(this.cwRsltStartDateTime);objDestChip.cwRsltEndDateTime=new Date(this.cwRsltEndDateTime);objDestChip.svcClassName=this.svcClassName;objDestChip.svcClassNameEng=this.svcClassNameEng;objDestChip.upperDisp=this.upperDisp;objDestChip.lowerDisp=this.lowerDisp;objDestChip.roJobSeq=
this.roJobSeq;objDestChip.stopFlg=this.stopFlg;objDestChip.addWorkStatus=this.addWorkStatus;objDestChip.roNum=this.roNum;objDestChip.scheDeliDateTime=new Date(this.scheDeliDateTime);objDestChip.planDelayDate=new Date(this.planDelayDate);objDestChip.displayStartDate=new Date(this.displayStartDate);objDestChip.displayEndDate=new Date(this.displayEndDate);objDestChip.delayStatus=this.delayStatus;objDestChip.remainingInspectionType=this.remainingInspectionType;objDestChip.impVclFlg=this.impVclFlg},toJsonSting:function toJsonSting(){var jsonData=
"{";jsonData+='"SVCIN_ID":"'+transferNullToBlank(this.svcInId)+'"';jsonData+=',"DLR_CD":"'+transferNullToBlank(this.dlrCd)+'"';jsonData+=',"BRN_CD":"'+transferNullToBlank(this.brnCd)+'"';jsonData+=',"CST_ID":"'+transferNullToBlank(this.cstId)+'"';jsonData+=',"VCL_ID":"'+transferNullToBlank(this.vclId)+'"';jsonData+=',"CST_VCL_TYPE":"'+transferNullToBlank(this.cstVclType)+'"';jsonData+=',"TLM_CONTRACT_FLG":"'+transferNullToBlank(this.tlmContractFlg)+'"';jsonData+=',"ACCEPTANCE_TYPE":"'+transferNullToBlank(this.acceptanceTpye)+
'"';jsonData+=',"PICK_DELI_TYPE":"'+transferNullToBlank(this.pickDeliType)+'"';jsonData+=',"CARWASH_NEED_FLG":"'+transferNullToBlank(this.carWashNeedFlg)+'"';jsonData+=',"RESV_STATUS":"'+transferNullToBlank(this.resvStatus)+'"';jsonData+=',"SVC_STATUS":"'+transferNullToBlank(this.svcStatus)+'"';jsonData+=',"SCHE_SVCIN_DATETIME":"'+transferNullToBlank(this.scheSvcInDateTime)+'"';jsonData+=',"SCHE_DELI_DATETIME":"'+transferNullToBlank(this.scheDeliDateTime)+'"';jsonData+=',"RSLT_SVCIN_DATETIME":"'+
transferNullToBlank(this.rsltSvcInDateTime)+'"';jsonData+=',"RSLT_DELI_DATETIME":"'+transferNullToBlank(this.rsltDeliDateTime)+'"';jsonData+=',"ROW_UPDATE_DATETIME":"'+transferNullToBlank(this.rowUpdateDateTime)+'"';jsonData+=',"ROW_LOCK_VERSION":"'+transferNullToBlank(this.rowLockVersion)+'"';jsonData+=',"RO_NUM":"'+transferNullToBlank(this.roNum)+'"';jsonData+=',"JOB_DTL_ID":"'+transferNullToBlank(this.jobDtlId)+'"';jsonData+=',"INSPECTION_NEED_FLG":"'+transferNullToBlank(this.inspectionNeedFlg)+
'"';jsonData+=',"INSPECTION_STATUS":"'+transferNullToBlank(this.inspectionApprovalFlg)+'"';jsonData+=',"CANCEL_FLG":"'+transferNullToBlank(this.cancelFlg)+'"';jsonData+=',"STALL_USE_ID":"'+transferNullToBlank(this.stallUseId)+'"';jsonData+=',"STALL_ID":"'+transferNullToBlank(this.stallId)+'"';jsonData+=',"TEMP_FLG":"'+transferNullToBlank(this.tempFlg)+'"';jsonData+=',"PARTS_FLG":"'+transferNullToBlank(this.partsFlg)+'"';jsonData+=',"STALL_USE_STATUS":"'+transferNullToBlank(this.stallUseStatus)+'"';
jsonData+=',"SCHE_START_DATETIME":"'+transferNullToBlank(this.scheStartDateTime)+'"';jsonData+=',"SCHE_END_DATETIME":"'+transferNullToBlank(this.scheEndDateTime)+'"';jsonData+=',"SCHE_WORKTIME":"'+transferNullToBlank(this.scheWorkTime)+'"';jsonData+=',"REST_FLG":"'+transferNullToBlank(this.restFlg)+'"';jsonData+=',"RSLT_START_DATETIME":"'+transferNullToBlank(this.rsltStartDateTime)+'"';jsonData+=',"PRMS_END_DATETIME":"'+transferNullToBlank(this.prmsEndDateTime)+'"';jsonData+=',"RSLT_END_DATETIME":"'+
transferNullToBlank(this.rsltEndDateTime)+'"';jsonData+=',"RSLT_WORKTIME":"'+transferNullToBlank(this.rsltWorkTime)+'"';jsonData+=',"STOP_REASON_TYPE":"'+transferNullToBlank(this.stopReasonType)+'"';jsonData+=',"VCL_VIN":"'+transferNullToBlank(this.vclVin)+'"';jsonData+=',"MODEL_NAME":"'+transferNullToBlank(this.modelName)+'"';jsonData+=',"REG_NUM":"'+transferNullToBlank(this.regNum)+'"';jsonData+=',"CARWASH_RSLT_ID":"'+transferNullToBlank(this.carWashRsltId)+'"';jsonData+=',"CW_RSLT_START_DATETIME":"'+
transferNullToBlank(this.cwRsltStartDateTime)+'"';jsonData+=',"CW_RSLT_END_DATETIME":"'+transferNullToBlank(this.cwRsltEndDateTime)+'"';jsonData+=',"SVC_CLASS_NAME":"'+transferNullToBlank(this.svcClassName)+'"';jsonData+=',"SVC_CLASS_NAME_ENG":"'+transferNullToBlank(this.svcClassNameEng)+'"';jsonData+=',"UPPER_DISP":"'+transferNullToBlank(this.upperDisp)+'"';jsonData+=',"LOWER_DISP":"'+transferNullToBlank(this.lowerDisp)+'"';jsonData+=',"RO_JOB_SEQ":"'+transferNullToBlank(this.roJobSeq)+'"';jsonData+=
',"STOP_FLG":"'+transferNullToBlank(this.stopFlg)+'"';jsonData+=',"PLAN_DELAYDATE":"'+transferNullToBlank(this.planDelayDate)+'"';jsonData+=',"ADDWORK_STATUS":"'+transferNullToBlank(this.addWorkStatus)+'"';jsonData+=',"DISPLAY_STARTDATE":"'+transferNullToBlank(this.displayStartDate)+'"';jsonData+=',"DISPLAY_ENDDATE":"'+transferNullToBlank(this.displayEndDate)+'"';jsonData+=',"REMAINING_INSPECTION_TYPE":"'+transferNullToBlank(this.remainingInspectionType)+'"';jsonData+=',"IMP_VCL_FLG":"'+transferNullToBlank(this.impVclFlg)+
'"';jsonData+="}";return jsonData},createChip:function createChip(nChipType){switch(nChipType){case C_CHIPTYPE_STALL:case C_CHIPTYPE_OTHER_DAY:case C_CHIPTYPE_STALL_FASTER:this.createStallChip(nChipType);break;case C_CHIPTYPE_STALL_MOVING:this.createMovingChip();break;case C_CHIPTYPE_STALL_COPYMOVING:this.createCopyMovingChip();break;case C_CHIPTYPE_POPUP:this.createPopUpChip();break;case C_CHIPTYPE_STALL_NEW:this.createStallNewChip();break;case C_CHIPTYPE_COPY:this.createCopyChip();break;case C_CHIPTYPE_STALL_KARIKARI:this.createKariKariChip();
break}return true},createStallChip:function createStallChip(nChipType){var strData="";var html="";var strColor=this.getChipColor();var dtShowDate=new Date($("#hidShowDate").val());if(C_STALLUSE_STATUS_STARTINCLUDESTOPJOB==this.stallUseStatus&&CompareDate(this.rsltStartDateTime,dtShowDate)==0)html+="<div id='"+this.stallUseId+"' class='MCp "+strColor+" StoppingJobColor'>";else html+="<div id='"+this.stallUseId+"' class='MCp "+strColor+"'>";html+="<div class='Band'>"+this.getBandIcons()+"</div>";strData=
"";if(this.modelName)strData=this.modelName;html+="<h3>"+strData+"</h3>";strData="";if(this.regNum)strData=this.regNum;html+="<div class='CarNoL'><span>"+strData+"</span></div>";if(this.tlmContractFlg=="1")html+="<div class='GIcon'></div>";var strDateTime=this.getDateOrTime();if(strDateTime!="")html+="<div class='time'>"+strDateTime+"</div>";html+=this.getStatusIcons();strData="";strData=this.getSvcName();if(strData!="")html+="<div class='infoBox'>"+strData+"</div>";else html+="<div class='infoBox'></div>";
html+="<div class='Front'></div>";html+="</div>";var objChip=$(html);if(this.stallId!="0"&&$("#stallId_"+this.stallId).length>0){var nRowNum;if(C_CHIPTYPE_STALL_FASTER==nChipType)nRowNum=parseInt($("#stallId_"+this.stallId)[0].className.substr(7));else nRowNum=$("#stallId_"+this.stallId).position().top/C_CELL_HEIGHT+1;if(nChipType!=C_CHIPTYPE_OTHER_DAY)$(".Row"+nRowNum).append(objChip);else $("#ulStall").append(objChip)}else $(".ChipArea").append(objChip)},createKariKariChip:function createKariKariChip(nChipType){var objChip=
$("<div />").addClass("MCp StTRez KARIKARI");objChip.attr("id",C_KARIKARICHIPID+this.stallUseId);var objBand=$("<div />").addClass("Band");objBand.append(this.getBandIcons());objChip.append(objBand);var strData="";if(this.modelName)strData=this.modelName;objChip.append("<h3>"+strData+"</h3>");var objInfo=$("<div />").addClass("infoBox");objChip.append(objInfo);var objFrontFace=$("<div />").addClass("Front");objChip.append(objFrontFace);if($("#stallId_"+this.stallId).length>0){var nRowNum=parseInt($("#stallId_"+
this.stallId)[0].className.substr(7));$(".Row"+nRowNum).append(objChip)}},createMovingChip:function createMovingChip(){var strData="";var objTimeKnobPointL,objTimeKnobPointR;var objChip=$("<div />").addClass("MCp");objChip.attr("id",this.stallUseId);var strColor=this.getChipColor();var objChipColor=$("<div />").addClass("CpInner").addClass(strColor);strData="";if(this.regNum)strData=this.regNum;var objCarNo=$("<div />").addClass("CarNoL");objCarNo.append("<span>"+strData+"</span>");objChipColor.append(objCarNo);
if(this.tlmContractFlg=="1"){var objGicon=$("<div />").addClass("GIcon");objChipColor.append(objGicon)}objChip.append(objChipColor);objTimeKnobPointL=$("<div />").addClass("TimeKnobPointL");objTimeKnobPointR=$("<div />").addClass("TimeKnobPointR");var strChipColorClassName=objChipColor[0].className;if(strChipColorClassName.indexOf("StTRez")>-1){objTimeKnobPointL.addClass("TimeKnobPoint_orange");objTimeKnobPointR.addClass("TimeKnobPoint_orange");objChip.append(objTimeKnobPointL);objChip.append(objTimeKnobPointR)}else if(strChipColorClassName.indexOf("StRez")>
-1)if(strChipColorClassName.indexOf("StDelay")>-1){objTimeKnobPointL.addClass("TimeKnobPoint_red");objTimeKnobPointR.addClass("TimeKnobPoint_red");objChip.append(objTimeKnobPointL);objChip.append(objTimeKnobPointR)}else{objTimeKnobPointL.addClass("TimeKnobPoint_blue");objTimeKnobPointR.addClass("TimeKnobPoint_blue");objChip.append(objTimeKnobPointL);objChip.append(objTimeKnobPointR)}else if(strChipColorClassName.indexOf("StWork")>-1){objTimeKnobPointR.addClass("TimeKnobPoint_green");objChip.append(objTimeKnobPointR)}var objBand=
$("<div />").addClass("Band");objBand.append(this.getBandIcons());objChipColor.append(objBand);strData="";if(this.modelName)strData=this.modelName;objChipColor.append("<h3>"+strData+"</h3>");var strDateTime=this.getDateOrTime();if(strDateTime!=""){var objTime=$("<div />").addClass("time");objTime.append(strDateTime);objChipColor.append(objTime)}objChipColor.append(this.getStatusIcons());strData="";strData=this.getSvcName();var objInfo=$("<div />").addClass("infoBox");if(strData!="")objInfo.append(strData);
objChipColor.append(objInfo);var objFrontFace=$("<div />").addClass("Front");objChipColor.append(objFrontFace);if($("#stallId_"+this.stallId).length>0){var nRowNum=$("#stallId_"+this.stallId).position().top/C_CELL_HEIGHT+1;$(".Row"+nRowNum).append(objChip)}else $(".ChipArea").append(objChip)},createCopyMovingChip:function createCopyMovingChip(){var strData="";var objTimeKnobPointL,objTimeKnobPointR;var objChip=$("<div />").addClass("MCp");objChip.attr("id",this.stallUseId);var strColor=this.getChipColor();
var objChipColor=$("<div />").addClass("CpInner").addClass(strColor);strData="";if(this.regNum)strData=this.regNum;var objCarNo=$("<div />").addClass("CarNoL");objCarNo.append("<span>"+strData+"</span>");objChipColor.append(objCarNo);if(this.tlmContractFlg=="1"){var objGicon=$("<div />").addClass("GIcon");objChipColor.append(objGicon)}objChip.append(objChipColor);objTimeKnobPointL=$("<div />").addClass("TimeKnobPointL");objTimeKnobPointR=$("<div />").addClass("TimeKnobPointR");var strChipColorClassName=
objChipColor[0].className;if(strChipColorClassName.indexOf("StTRez")>-1){objTimeKnobPointL.addClass("TimeKnobPoint_orange");objTimeKnobPointR.addClass("TimeKnobPoint_orange");objChip.append(objTimeKnobPointL);objChip.append(objTimeKnobPointR)}else if(strChipColorClassName.indexOf("StRez")>-1)if(strChipColorClassName.indexOf("StDelay")>-1){objTimeKnobPointL.addClass("TimeKnobPoint_red");objTimeKnobPointR.addClass("TimeKnobPoint_red");objChip.append(objTimeKnobPointL);objChip.append(objTimeKnobPointR)}else{objTimeKnobPointL.addClass("TimeKnobPoint_blue");
objTimeKnobPointR.addClass("TimeKnobPoint_blue");objChip.append(objTimeKnobPointL);objChip.append(objTimeKnobPointR)}else if(strChipColorClassName.indexOf("StWork")>-1){objTimeKnobPointR.addClass("TimeKnobPoint_green");objChip.append(objTimeKnobPointR)}var objBand=$("<div />").addClass("Band");objBand.append(this.getBandIcons());objChipColor.append(objBand);strData="";if(this.modelName)strData=this.modelName;objChipColor.append("<h3>"+strData+"</h3>");var strDateTime=this.getDateOrTime();if(strDateTime!=
""){var objTime=$("<div />").addClass("time");objTime.append(strDateTime);objChipColor.append(objTime)}objChipColor.append(this.getCopyStatusIcons());strData="";strData=this.getSvcName();var objInfo=$("<div />").addClass("infoBox");if(strData!="")objInfo.append(strData);objChipColor.append(objInfo);var objFrontFace=$("<div />").addClass("Front");objChipColor.append(objFrontFace);if($("#stallId_"+this.stallId).length>0){var nRowNum=$("#stallId_"+this.stallId).position().top/C_CELL_HEIGHT+1;$(".Row"+
nRowNum).append(objChip)}else $(".ChipArea").append(objChip)},createPopUpChip:function createPopUpChip(){var strData="";var objChip=$("<div />").addClass("MCp");objChip.attr("id",this.stallUseId);var strColor=this.getChipColor();objChip.addClass(strColor);var dtShowDate=new Date($("#hidShowDate").val());if(C_STALLUSE_STATUS_STARTINCLUDESTOPJOB==this.stallUseStatus&&CompareDate(this.rsltStartDateTime,dtShowDate)==0)objChip.addClass("StoppingJobColor");var objBand=$("<div />").addClass("Band");objBand.append(this.getBandIcons());
objChip.append(objBand);strData="";if(this.modelName)strData=this.modelName;objChip.append("<h3>"+strData+"</h3>");strData="";if(this.regNum)strData=this.regNum;var objCarNo=$("<div />").addClass("CarNoL");objCarNo.append("<span>"+strData+"</span>");objChip.append(objCarNo);if(this.tlmContractFlg=="1"){var objGicon=$("<div />").addClass("GIcon");objChip.append(objGicon)}var strDateTime=this.getDateOrTime();if(strDateTime!=""){var objTime=$("<div />").addClass("time");objTime.append(strDateTime);objChip.append(objTime)}objChip.append(this.getStatusIcons());
strData="";strData=this.getSvcName();var objInfo=$("<div />").addClass("infoBox");if(strData!="")objInfo.append(strData);objChip.append(objInfo);var objFrontFace=$("<div />").addClass("Front");objChip.append(objFrontFace);$(".PopUpChipInnerBox").append(objChip);this.refleshChipRedColor()},createStallNewChip:function createStallNewChip(){var objChip=$("<div />").addClass("MCp StNew");objChip.attr("id",C_NEWCHIPID);var objTimeKnobPointL=$("<div />").addClass("TimeKnobPointL TimeKnobPoint_white");var objTimeKnobPointR=
$("<div />").addClass("TimeKnobPointR TimeKnobPoint_white");objChip.append(objTimeKnobPointL);objChip.append(objTimeKnobPointR);var objBand=$("<div />").addClass("Band");objChip.append(objBand);var objTime=$("<div />").addClass("time");objChip.append(objTime);var objInfo=$("<div />").addClass("infoBox");objChip.append(objInfo);$(".ChipArea").append(objChip)},createCopyChip:function createCopyChip(){var strData="";var objChip=$("<div />").addClass("MCp");objChip.attr("id",C_COPYCHIPID);var strColor=
this.getCopyChipColor();objChip.addClass(strColor);var objBand=$("<div />").addClass("Band");objBand.append(this.getBandIcons());objChip.append(objBand);strData="";if(this.modelName)strData=this.modelName;objChip.append("<h3>"+strData+"</h3>");strData="";if(this.regNum)strData=this.regNum;var objCarNo=$("<div />").addClass("CarNoL");objCarNo.append("<span>"+strData+"</span>");objChip.append(objCarNo);if(this.tlmContractFlg=="1"){var objGicon=$("<div />").addClass("GIcon");objChip.append(objGicon)}var strDateTime=
this.getDateOrTime();if(strDateTime!=""){var objTime=$("<div />").addClass("time");objTime.append(strDateTime);objChip.append(objTime)}objChip.append(this.getCopyStatusIcons());strData="";strData=this.getSvcName();var objInfo=$("<div />").addClass("infoBox");if(strData!="")objInfo.append(strData);objChip.append(objInfo);var objFrontFace=$("<div />").addClass("Front");objChip.append(objFrontFace);$("#ulStall").append(objChip)},updateStallChip:function updateStallChip(){var strData="";var objChip=$("#"+
this.stallUseId);objChip.children().remove();objChip.removeClass("StRez StWork StTRez StWComplete StDComplete StNew StoppingJobColor");var strColor=this.getChipColor();objChip.addClass(strColor);var dtShowDate=new Date($("#hidShowDate").val());if(C_STALLUSE_STATUS_STARTINCLUDESTOPJOB==this.stallUseStatus&&CompareDate(this.rsltStartDateTime,dtShowDate)==0)objChip.addClass("StoppingJobColor");var objBand=$("<div />").addClass("Band");objBand.append(this.getBandIcons());objChip.append(objBand);strData=
"";if(this.modelName)strData=this.modelName;objChip.append("<h3>"+strData+"</h3>");strData="";if(this.regNum)strData=this.regNum;var objCarNo=$("<div />").addClass("CarNoL");objCarNo.append("<span>"+strData+"</span>");objChip.append(objCarNo);if(this.tlmContractFlg=="1"){var objGicon=$("<div />").addClass("GIcon");objChip.append(objGicon)}var strDateTime=this.getDateOrTime();if(strDateTime!=""){var objTime=$("<div />").addClass("time");objTime.append(strDateTime);objChip.append(objTime)}objChip.append(this.getStatusIcons());
strData="";strData=this.getSvcName();var objInfo=$("<div />").addClass("infoBox");if(strData!="")objInfo.append(strData);objChip.append(objInfo);var objFrontFace=$("<div />").addClass("Front");objChip.append(objFrontFace);this.refleshChipRedColor();if(this.stallUseId!=""&&this.stallUseId!="0")AdjustChipItemByWidth(this.stallUseId)},checkChipLater:function checkChipLater(){this.delayStatus=C_NO_DELAY;if(IsDefaultDate(this.scheDeliDateTime)==false&&IsDefaultDate(this.rsltEndDateTime)==true){var dtNow=
GetServerTimeNow();dtNow.setSeconds(0);dtNow.setMilliseconds(0);var dtDeliTime=new Date(this.scheDeliDateTime);dtDeliTime.setSeconds(0);dtDeliTime.setMilliseconds(0);var dtPlanDelayDate=new Date(this.planDelayDate);dtPlanDelayDate.setSeconds(0);dtPlanDelayDate.setMilliseconds(0);var nNow=Date.parse(dtNow);var nDeliTime=Date.parse(dtDeliTime);var nPlanDelayDate=Date.parse(dtPlanDelayDate);if(nNow>=nPlanDelayDate&&IsDefaultDate(nPlanDelayDate)==false||nNow==nDeliTime)this.delayStatus=C_DELAY_PROSPECTS;
if(nNow>nDeliTime&&IsDefaultDate(nDeliTime)==false)this.delayStatus=C_DELAY}},getChipColor:function getChipColor(){var strRt="";if(IsDefaultDate(this.rsltStartDateTime)==true)if(this.resvStatus==C_RTYPE_TEMP)strRt="StTRez";else strRt="StRez";else if(IsDefaultDate(this.rsltEndDateTime)==true){var dtNow=GetServerTimeNow();var dtShowDate=new Date($("#hidShowDate").val());if(CompareDate(this.rsltStartDateTime,dtShowDate)==0)strRt="StWork";else strRt="StRez"}else if(this.svcStatus!=C_SVCSTATUS_DELIVERY)strRt=
"StWComplete";else strRt="StDComplete";return strRt},getCopyChipColor:function getCopyChipColor(){var strRt="";if(this.resvStatus==C_RTYPE_TEMP)strRt="StTRez";else strRt="StRez";return strRt},refleshChipRedColor:function refleshChipRedColor(){var strChipColorClass="#"+this.stallUseId;$(strChipColorClass).removeClass("StDelay StPDelay");this.checkChipLater();var strDelayClass="";if(this.delayStatus==C_DELAY)strDelayClass=" StDelay";else if(this.delayStatus==C_DELAY_PROSPECTS)strDelayClass=" StPDelay";
$(strChipColorClass).addClass(strDelayClass)},getBandIcons:function getBandIcons(){var strBandHtml="";var bVip=false;if(bVip)strBandHtml+='<div class="IC01"><p>V</p></div>';if(this.pickDeliType==C_WAIT_IN)strBandHtml+='<div class="IC02"></div>';if(this.acceptanceTpye==C_RFLG_RESERVE)strBandHtml+='<div class="IC03"></div>';if(this.impVclFlg==C_ICON_FLAG_P)strBandHtml+='<div class="IconP"></div>';else if(this.impVclFlg==C_ICON_FLAG_L)strBandHtml+='<div class="IconL"></div>';return strBandHtml},getStatusIcons:function getStatusIcons(){if(this.addWorkStatus==
C_AW_ADDINGWORK&&this.stallUseStatus==C_STALLUSE_STATUS_STOP)return'<div class="ICAddInterrupt"></div>';if(this.addWorkStatus==C_AW_WAIT_COMMITTED&&this.stallUseStatus==C_STALLUSE_STATUS_STOP)return'<div class="ICWaitInterrupt"></div>';if(this.addWorkStatus==C_AW_ADDINGWORK&&this.inspectionApprovalFlg==C_INSPECTION_APPROVAL)return'<div class="ICAddInspect"></div>';if(this.addWorkStatus==C_AW_WAIT_COMMITTED&&this.inspectionApprovalFlg==C_INSPECTION_APPROVAL)return'<div class="ICWaitInspect"></div>';
if(this.addWorkStatus==C_AW_ADDINGWORK&&(this.svcStatus==C_SVCSTATUS_CARWASHWAIT||this.svcStatus==C_SVCSTATUS_CARWASHSTART))return'<div class="ICAddWash"></div>';if(this.addWorkStatus==C_AW_WAIT_COMMITTED&&(this.svcStatus==C_SVCSTATUS_CARWASHWAIT||this.svcStatus==C_SVCSTATUS_CARWASHSTART))return'<div class="ICWaitWash"></div>';if(this.addWorkStatus==C_AW_ADDINGWORK)return'<div class="ICAddWork"></div>';else if(this.addWorkStatus==C_AW_WAIT_COMMITTED)return'<div class="ICWaitCommited"></div>';if(this.stallUseStatus==
C_STALLUSE_STATUS_STOP)return'<div class="ICInterrupt"></div>';if(this.inspectionApprovalFlg==C_INSPECTION_APPROVAL)return'<div class="ICInspect"></div>';if(this.svcStatus==C_SVCSTATUS_CARWASHWAIT||this.svcStatus==C_SVCSTATUS_CARWASHSTART)return'<div class="ICWashCar"></div>';return this.getIcon()},getCopyStatusIcons:function getCopyStatusIcons(){if(this.addWorkStatus==C_AW_ADDINGWORK)return'<div class="ICAddWork"></div>';else if(this.addWorkStatus==C_AW_WAIT_COMMITTED)return'<div class="ICWaitCommited"></div>';
if(IsDefaultDate(this.rsltSvcInDateTime)==false)return'<div class="ICCarIn"></div>';return""},getIcon:function getIcon(){var nCount=0;var strRt="";if(IsDefaultDate(this.rsltSvcInDateTime)==false)nCount+=1;if(this.stallUseStatus>=C_STALLUSE_STATUS_STARTWAIT&&this.stallUseStatus<=C_STALLUSE_STATUS_MIDFINISH)nCount+=2;if(this.partsFlg=="1")nCount+=4;switch(nCount){case 1:strRt='<div class="ICCarIn"></div>';break;case 2:strRt='<div class="ICRo"></div>';break;case 3:strRt='<div class="ICCarinRo"></div>';
break;case 4:strRt='<div class="ICIssue"></div>';break;case 5:strRt='<div class="ICCarinIssue"></div>';break;case 6:strRt='<div class="ICRoIssue"></div>';break;case 7:strRt='<div class="ICAll"></div>';break}return strRt},getDateOrTime:function getDateOrTime(){var strBandHtml="";var dtShowDate=new Date($("#hidShowDate").val());if(this.svcStatus==C_SVCSTATUS_DELIVERY)if(this.rsltDeliDateTime.getFullYear()==dtShowDate.getFullYear()&&this.rsltDeliDateTime.getMonth()==dtShowDate.getMonth()&&this.rsltDeliDateTime.getDate()==
dtShowDate.getDate())strBandHtml=DateFormat(this.rsltDeliDateTime,gDateFormatHHmm);else strBandHtml=DateFormat(this.rsltDeliDateTime,gDateFormatMMdd);else if(IsDefaultDate(this.scheDeliDateTime)==false)if(this.scheDeliDateTime.getFullYear()==dtShowDate.getFullYear()&&this.scheDeliDateTime.getMonth()==dtShowDate.getMonth()&&this.scheDeliDateTime.getDate()==dtShowDate.getDate())strBandHtml=DateFormat(this.scheDeliDateTime,gDateFormatHHmm);else strBandHtml=DateFormat(this.scheDeliDateTime,gDateFormatMMdd);
return strBandHtml},getSvcName:function getSvcName(){var strSvcName="";if(this.upperDisp||this.lowerDisp)if(this.upperDisp!=""||this.lowerDisp!="")strSvcName=this.upperDisp+this.lowerDisp;if(strSvcName=="")if(this.svcClassName&&this.svcClassName!="")strSvcName=this.svcClassName;else if(this.svcClassNameEng)strSvcName=this.svcClassNameEng;return strSvcName},setPlanDelayDate:function setPlanDelayDate(aPlanDelayDate){try{if(aPlanDelayDate)this.planDelayDate=new Date(aPlanDelayDate);else this.planDelayDate=
new Date(C_DATE_DEFAULT_VALUE)}catch(e){this.planDelayDate=new Date(C_DATE_DEFAULT_VALUE)}},setDisplayStartDate:function setDisplayStartDate(aDisplayStartDate){try{if(aDisplayStartDate)this.displayStartDate=new Date(aDisplayStartDate)}catch(e){this.displayStartDate=new Date(C_DATE_DEFAULT_VALUE)}},setDisplayEndDate:function setDisplayEndDate(aDisplayEndDate){try{if(aDisplayEndDate)this.displayEndDate=new Date(aDisplayEndDate)}catch(e){this.displayEndDate=new Date(C_DATE_DEFAULT_VALUE)}},setDisplayDate:function setDisplayDate(){try{if(IsDefaultDate(this.rsltStartDateTime)==
false){this.displayStartDate.setTime(this.rsltStartDateTime.getTime());if(IsDefaultDate(this.rsltEndDateTime)==false)this.displayEndDate.setTime(this.rsltEndDateTime.getTime());else if(IsDefaultDate(this.prmsEndDateTime)==false)this.displayEndDate.setTime(this.prmsEndDateTime.getTime());else{this.displayEndDate=new Date;this.displayEndDate.setTime(this.rsltStartDateTime.getTime()+this.scheDeliDateTime*60*1E3)}}else{this.displayStartDate.setTime(this.scheStartDateTime.getTime());this.displayEndDate.setTime(this.scheEndDateTime.getTime())}var dtShowDate=
new Date($("#hidShowDate").val());if(dtShowDate.getFullYear()!=this.displayEndDate.getFullYear()||dtShowDate.getMonth()!=this.displayEndDate.getMonth()||dtShowDate.getDate()!=this.displayEndDate.getDate()){if(dtShowDate-this.displayEndDate>0)return;this.displayEndDate.setTime(gEndWorkTime.getTime())}if(dtShowDate.getFullYear()!=this.displayStartDate.getFullYear()||dtShowDate.getMonth()!=this.displayStartDate.getMonth()||dtShowDate.getDate()!=this.displayStartDate.getDate()){if(dtShowDate-this.displayStartDate<
0)return;this.displayStartDate.setTime(gStartWorkTime.getTime())}}catch(e){this.displayStartDate=new Date(C_DATE_DEFAULT_VALUE);this.displayEndDate=new Date(C_DATE_DEFAULT_VALUE)}},setAddWorkStatus:function setAddWorkStatus(aAddWorkStatus){if(aAddWorkStatus.toString().Trim()!="")this.addWorkStatus=aAddWorkStatus},setRoNum:function setRoNum(aRoNum){try{if(aRoNum)this.roNum=aRoNum.toString().Trim()}catch(e){this.roNum=""}},setSvcInId:function setSvcInId(aSvcInId){try{if(aSvcInId)this.svcInId=aSvcInId.toString().Trim()}catch(e){this.svcInId=
""}},setDlrCd:function setDlrCd(aDlrCd){try{if(aDlrCd)this.dlrCd=aDlrCd.toString().Trim()}catch(e){this.dlrCd=""}},setBrnCd:function setBrnCd(aBrnCd){try{if(aBrnCd)this.brnCd=aBrnCd.toString().Trim()}catch(e){this.brnCd=""}},setCstId:function setCstId(aCstId){try{if(aCstId)this.cstId=aCstId.toString().Trim()}catch(e){this.cstId=""}},setVclId:function setVclId(aVclId){try{if(aVclId)this.vclId=aVclId.toString().Trim()}catch(e){this.vclId=""}},setCstVclType:function setCstVclType(aCstVclType){try{if(aCstVclType)this.cstVclType=
aCstVclType.toString().Trim()}catch(e){this.cstVclType=""}},setTlmContractFlg:function setTlmContractFlg(aTlmContractFlg){try{if(aTlmContractFlg)this.tlmContractFlg=aTlmContractFlg.toString().Trim()}catch(e){this.tlmContractFlg=""}},setAcceptanceTpye:function setAcceptanceTpye(aAcceptanceTpye){try{if(aAcceptanceTpye)this.acceptanceTpye=aAcceptanceTpye.toString().Trim()}catch(e){this.acceptanceTpye=""}},setPickDeliType:function setPickDeliType(aPickDeliType){try{if(aPickDeliType)this.pickDeliType=
aPickDeliType.toString().Trim()}catch(e){this.pickDeliType=""}},setCarWashNeedFlg:function setCarWashNeedFlg(aCarWashNeedFlg){try{if(aCarWashNeedFlg)this.carWashNeedFlg=aCarWashNeedFlg.toString().Trim()}catch(e){this.carWashNeedFlg=""}},setResvStatus:function setResvStatus(aResvStatus){try{if(aResvStatus)this.resvStatus=aResvStatus.toString().Trim()}catch(e){this.resvStatus=""}},setSvcStatus:function setSvcStatus(aSvcStatus){try{if(aSvcStatus)this.svcStatus=aSvcStatus.toString().Trim()}catch(e){this.svcStatus=
""}},setScheSvcInDateTime:function setScheSvcInDateTime(aScheSvcInDateTime){try{if(aScheSvcInDateTime)this.scheSvcInDateTime=new Date(aScheSvcInDateTime)}catch(e){this.scheSvcInDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setScheDeliDateTime:function setScheDeliDateTime(aScheDeliDateTime){try{if(aScheDeliDateTime)this.scheDeliDateTime=new Date(aScheDeliDateTime)}catch(e){this.scheDeliDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setRsltSvcInDateTime:function setRsltSvcInDateTime(aRsltSvcInDateTime){try{if(aRsltSvcInDateTime)this.rsltSvcInDateTime=
new Date(aRsltSvcInDateTime)}catch(e){this.rsltSvcInDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setRsltDeliDateTime:function setRsltDeliDateTime(aRsltDeliDateTime){try{if(aRsltDeliDateTime)this.rsltDeliDateTime=new Date(aRsltDeliDateTime)}catch(e){this.rsltDeliDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setRowUpdateDateTime:function setRowUpdateDateTime(aRowUpdateDateTime){try{if(aRowUpdateDateTime)this.rowUpdateDateTime=new Date(aRowUpdateDateTime)}catch(e){this.rowUpdateDateTime=new Date(C_DATE_DEFAULT_VALUE)}},
setRowLockVersion:function setRowLockVersion(aRowLockVersion){try{if(aRowLockVersion)this.rowLockVersion=parseInt(aRowLockVersion)}catch(e){this.rowLockVersion=0}},setJobDtlId:function setJobDtlId(aJobDtlId){try{if(aJobDtlId)this.jobDtlId=aJobDtlId.toString().Trim()}catch(e){this.jobDtlId=""}},setInspectionNeedFlg:function setInspectionNeedFlg(aInspectionNeedFlg){try{if(aInspectionNeedFlg)this.inspectionNeedFlg=aInspectionNeedFlg.toString().Trim()}catch(e){this.inspectionNeedFlg=""}},setInspectionApprovalFlg:function setInspectionApprovalFlg(aInspectionApprovalFlg){try{if(aInspectionApprovalFlg)this.inspectionApprovalFlg=
aInspectionApprovalFlg.toString().Trim()}catch(e){this.inspectionApprovalFlg=""}},setCancelFlg:function setCancelFlg(aCancelFlg){try{if(aCancelFlg)this.cancelFlg=aCancelFlg.toString().Trim()}catch(e){this.cancelFlg=""}},setStallUseId:function setStallUseId(aStallUseId){try{if(aStallUseId)this.stallUseId=aStallUseId.toString().Trim()}catch(e){this.stallUseId=""}},setStallId:function setStallId(aStallId){try{if(aStallId)this.stallId=aStallId.toString().Trim()}catch(e){this.stallId=""}},setTempFlg:function setTempFlg(aTempFlg){try{if(aTempFlg)this.tempFlg=
aTempFlg.toString().Trim()}catch(e){this.tempFlg=""}},setPartsFlg:function setPartsFlg(aPartsFlg){try{if(aPartsFlg.toString().Trim()!="")this.partsFlg=aPartsFlg.toString().Trim()}catch(e){this.partsFlg=""}},setStallUseStatus:function setStallUseStatus(aStallUseStatus){try{if(aStallUseStatus)this.stallUseStatus=aStallUseStatus.toString().Trim()}catch(e){this.stallUseStatus=""}},setImpVclFlg:function setImpVclFlg(aImpVclFlg){try{if(aImpVclFlg)this.impVclFlg=aImpVclFlg.toString().Trim()}catch(e){this.impVclFlg=
""}},setScheStartDateTime:function setScheStartDateTime(aScheStartDateTime){try{if(aScheStartDateTime)this.scheStartDateTime=new Date(aScheStartDateTime)}catch(e){this.scheStartDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setScheEndDateTime:function setScheEndDateTime(aScheEndDateTime){try{if(aScheEndDateTime)this.scheEndDateTime=new Date(aScheEndDateTime)}catch(e){this.scheEndDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setScheWorkTime:function setScheWorkTime(aScheWorkTime){try{if(aScheWorkTime)this.scheWorkTime=
parseInt(aScheWorkTime)}catch(e){this.scheWorkTime=0}},setRestFlg:function setRestFlg(aRestFlg){try{if(aRestFlg)this.restFlg=aRestFlg.toString().Trim()}catch(e){this.restFlg=""}},setRsltStartDateTime:function setRsltStartDateTime(aRsltStartDateTime){try{if(aRsltStartDateTime)this.rsltStartDateTime=new Date(aRsltStartDateTime)}catch(e){this.rsltStartDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setPrmsEndDateTime:function setPrmsEndDateTime(aPrmsEndDateTime){try{if(aPrmsEndDateTime)this.prmsEndDateTime=
new Date(aPrmsEndDateTime)}catch(e){this.prmsEndDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setRsltEndDateTime:function setRsltEndDateTime(aRsltEndDateTime){try{if(aRsltEndDateTime)this.rsltEndDateTime=new Date(aRsltEndDateTime)}catch(e){this.rsltEndDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setRsltWorkTime:function setRsltWorkTime(aRsltWorkTime){try{if(aRsltWorkTime){this.rsltWorkTime=parseInt(aRsltWorkTime);if(this.rsltWorkTime<0||isNaN(this.rsltWorkTime))this.rsltWorkTime=0}else this.rsltWorkTime=
0}catch(e){this.rsltWorkTime=0}},setStopReasonType:function setStopReasonType(aStopReasonType){try{if(aStopReasonType)this.stopReasonType=aStopReasonType.toString().Trim()}catch(e){this.stopReasonType=""}},setVclVin:function setVclVin(aVclVin){try{if(aVclVin)this.vclVin=aVclVin.toString().Trim()}catch(e){this.vclVin=""}},setModelName:function setModelName(aModelName){try{if(aModelName)this.modelName=aModelName.toString().Trim()}catch(e){this.modelName=""}},setRegNum:function setRegNum(aRegNum){try{if(aRegNum)this.regNum=
aRegNum.toString().Trim()}catch(e){this.regNum=""}},setCarWashRsltId:function setCarWashRsltId(aCarWashRsltId){try{if(aCarWashRsltId)this.carWashRsltId=aCarWashRsltId.toString().Trim()}catch(e){this.carWashRsltId=""}},setCwRsltStartDateTime:function setCwRsltStartDateTime(aCwRsltStartDateTime){try{if(aCwRsltStartDateTime)this.cwRsltStartDateTime=new Date(aCwRsltStartDateTime)}catch(e){this.cwRsltStartDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setCwRsltEndDateTime:function setCwRsltEndDateTime(aCwRsltEndDateTime){try{if(aCwRsltEndDateTime)this.cwRsltEndDateTime=
new Date(aCwRsltEndDateTime)}catch(e){this.cwRsltEndDateTime=new Date(C_DATE_DEFAULT_VALUE)}},setSvcClassName:function setSvcClassName(aSvcClassName){try{if(aSvcClassName)this.svcClassName=aSvcClassName.toString().Trim()}catch(e){this.svcClassName=""}},setSvcClassNameEng:function setSvcClassNameEng(aSvcClassNameEng){try{if(aSvcClassNameEng)this.svcClassNameEng=aSvcClassNameEng.toString().Trim()}catch(e){this.svcClassNameEng=""}},setUpperDisp:function setUpperDisp(aUpperDisp){try{if(aUpperDisp)this.upperDisp=
aUpperDisp.toString().Trim()}catch(e){this.upperDisp=""}},setLowerDisp:function setLowerDisp(aLowerDisp){try{if(aLowerDisp)this.lowerDisp=aLowerDisp.toString().Trim()}catch(e){this.lowerDisp=""}},setRoJobSeq:function setRoJobSeq(aRoJobSeq){try{if(aRoJobSeq)this.roJobSeq=parseInt(aRoJobSeq)}catch(e){this.roJobSeq=-1}},setStopFlg:function setStopFlg(aStopFlg){this.stopFlg=aStopFlg},setRemainingInspectionType:function setRemainingInspectionType(aRemainingInspectionType){try{if(aRemainingInspectionType)this.remainingInspectionType=
aRemainingInspectionType.toString()}catch(e){this.remainingInspectionType=""}}};function RelationChip(aStallUseId){this.svcinId="";this.jobDtlId="";this.stallUseId=aStallUseId;this.startDateTime}
RelationChip.prototype={setChipParameter:function setChipParameter(aDataSet){this.setSvcinId(aDataSet.SVCIN_ID);this.setJobDtlId(aDataSet.JOB_DTL_ID);this.setStallUseId(aDataSet.STALL_USE_ID);this.setStartDateTime(aDataSet.START_DATETIME)},setSvcinId:function setSvcinId(aSvcinId){try{if(aSvcinId)this.svcinId=aSvcinId.toString().Trim()}catch(e){this.svcinId=""}},setJobDtlId:function setJobDtlId(aJobDtlId){try{if(aJobDtlId)this.jobDtlId=aJobDtlId.toString().Trim()}catch(e){this.jobDtlId=""}},setStallUseId:function setStallUseId(aStallUseId){try{if(aStallUseId)this.stallUseId=
aStallUseId.toString().Trim()}catch(e){this.stallUseId=""}},setStartDateTime:function setStartDateTime(aStartDateTime){try{if(aStartDateTime)this.startDateTime=new Date(aStartDateTime)}catch(e){this.startDateTime=new Date(C_DATE_DEFAULT_VALUE)}}};function UnavailableChip(aStallUseId){this.stallIdleId="";this.stallId="";this.width=0;this.rowLockVersion=0}
UnavailableChip.prototype={setChipParameter:function setChipParameter(aDataSet){this.setStallIdleId(aDataSet.STALLIDLEID);this.setStallId(aDataSet.STALLID);this.setWidth(aDataSet.WIDTH);this.setRowLockVersion(aDataSet.ROWLOCKVERSION);this.setIdleMemo(aDataSet.IDLEMEMO)},setStallIdleId:function setStallIdleId(aStallIdleId){try{if(aStallIdleId)this.stallIdleId=aStallIdleId.toString().Trim()}catch(e){this.stallIdleId=""}},setStallId:function setStallId(aStallId){try{if(aStallId)this.stallId=aStallId.toString().Trim()}catch(e){this.stallId=
""}},setWidth:function setWidth(aWidth){try{if(aWidth)this.width=parseInt(aWidth)}catch(e){this.width=0}},setRowLockVersion:function setRowLockVersion(aRowLockVersion){try{if(aRowLockVersion)this.rowLockVersion=parseInt(aRowLockVersion)}catch(e){this.rowLockVersion=0}},setIdleMemo:function setIdleMemo(aIdleMemo){try{if(aIdleMemo)this.idleMemo=aIdleMemo.toString().Trim()}catch(e){this.rowLockVersion=""}},createChip:function createChip(nChipType){var idleMemo=" ";if(this.idleMemo!=undefined)idleMemo=
this.idleMemo;var objUnvaliable=CreateUnavailableChip(C_UNAVALIABLECHIPID+this.stallIdleId,idleMemo);if(nChipType==C_CHIPTYPE_OTHER_DAY)$("#ulStall").append(objUnvaliable)},toJsonSting:function toJsonSting(){var jsonData="{";jsonData+='"STALLIDLEID":"'+transferNullToBlank(this.stallIdleId)+'"';jsonData+=',"STALLID":"'+transferNullToBlank(this.stallId)+'"';jsonData+=',"WIDTH":"'+transferNullToBlank(this.width)+'"';jsonData+=',"ROWLOCKVERSION":"'+transferNullToBlank(this.rowLockVersion)+'"';jsonData+=
',"IDLEMEMO":"'+transferNullToBlank(this.idleMemo)+'"';jsonData+="}";return jsonData}};
