var chipDetailSlideDownFlag;
function ShowChipDetailSmall(){try{$("#ExpansionButton").css("display","none");$("#DetailRegisterBtn").attr("disabled",true);$("#ChipDetailSContent>div").remove();$("#ChipDetailLContent>div").remove();var baseCtrl=$("#"+gSelectedChipId);SetDetailSPopoverPosition(CalcDetailSPopoverPosition(baseCtrl));$("#ChipDetailPopup").fadeIn(300);gDetailSActiveIndicator.show();commonRefreshTimer(ReDisplayChipDetail);CreateChipDetailPage()}catch(e){if(gSelectedChipId==""){HideChipDetailPopup();SetChipUnSelectedStatus();
SetTableUnSelectedStatus()}}}function CreateChipDetailPage(){if($("#MstPG_registOverlayBlack").css("display")=="block")gDetailOverlay.hide();var prms=CreateCallBackDisplayParam(C_SC3240201CALLBACK_CREATEDISP,gSelectedChipId);DoCallBack(C_CALLBACK_WND201,prms,SC3240201AfterCallBack,"ShowDetail")}
function RegisterChipDetail(){$("#DetailRightBtnDiv").addClass("icrop-pressed");$("#DetailRegisterBtn").css("background-image","none");setTimeout(function(){$("#DetailRightBtnDiv").removeClass("icrop-pressed");$("#DetailRegisterBtn").css("background-image","-webkit-gradient(linear, left top, left bottom, from(#6485cc),color-stop(0.01, #6485cc),color-stop(0.01, #6f96e8),color-stop(0.5, #376fe0),color-stop(0.5, #2361dd),to(#2463de))")},300);gDetailSActiveIndicator.show();gDetailOverlay.show();commonRefreshTimer(ReDisplayChipDetail);
var prms=CreateCallBackRegistParam(C_SC3240201CALLBACK_REGISTER,gSelectedChipId,-1);DoCallBack(C_CALLBACK_WND201,prms,SC3240201AfterCallBack,"ClickDetailOKButton");return false}
function CreateCallBackDisplayParam(method,chipId){var subAreaId=GetSubChipType(chipId);var rtnVal={Method:method,DlrCD:$("#hidDlrCD").val(),StrCD:$("#hidBrnCD").val(),ShowDate:$("#hidShowDate").val(),SubAreaId:subAreaId,StallStartTime:$("#hidStallStartTime").val(),StallEndTime:$("#hidStallEndTime").val()};switch(subAreaId){case C_FT_BTNTP_CONFIRMED_RO:if(gArrObjSubChip[chipId].tempFlg=="1"){rtnVal.subAreaId="";rtnVal.RONum=gArrObjSubChip[chipId].roNum;rtnVal.SvcInId=gArrObjSubChip[chipId].svcInId;
rtnVal.JobDtlId=gArrObjSubChip[chipId].jobDtlId;rtnVal.StallUseId=gArrObjSubChip[chipId].stallUseId}else{rtnVal.RONum=gArrObjSubChip[chipId].roNum;rtnVal.SvcInId=gArrObjSubChip[chipId].svcInId;rtnVal.ROJobSeq=gArrObjSubChip[chipId].roJobSeq;rtnVal.SrvAddSeq=gArrObjSubChip[chipId].srvAddSeq}break;case C_FT_BTNTP_WAIT_CONFIRMEDADDWORK:rtnVal.RONum=gArrObjSubChip[chipId].roNum;rtnVal.SvcInId=gArrObjSubChip[chipId].svcInId;rtnVal.ROJobSeq=gArrObjSubChip[chipId].roJobSeq;rtnVal.SrvAddSeq=gArrObjSubChip[chipId].srvAddSeq;
break;case C_FT_BTNTP_CONFIRMED_INSPECTION:case C_FT_BTNTP_WAITING_WASH:case C_FT_BTNTP_WASHING:case C_FT_BTNTP_WAIT_DELIVERY:case C_FT_BTNTP_NOSHOW:case C_FT_BTNTP_STOP:rtnVal.RONum=gArrObjSubChip[chipId].roNum;rtnVal.SvcInId=gArrObjSubChip[chipId].svcInId;rtnVal.JobDtlId=gArrObjSubChip[chipId].jobDtlId;rtnVal.StallUseId=gArrObjSubChip[chipId].stallUseId;break;default:rtnVal.RONum=gArrObjChip[chipId].roNum;rtnVal.SvcInId=gArrObjChip[chipId].svcInId;rtnVal.JobDtlId=gArrObjChip[chipId].jobDtlId;rtnVal.StallUseId=
gArrObjChip[chipId].stallUseId;break}return rtnVal}function CreateCallBackGetMercParam(method,aftValue){var rtnVal={Method:method,DlrCD:$("#hidDlrCD").val(),StrCD:$("#hidBrnCD").val(),SvcClassId:aftValue};return rtnVal}
function CreateCallBackRegistParam(method,chipId,restFlg){gSC3240201DisplayChipStartTime=GetDisplayStartTime();gSC3240201DisplayChipEndTime=GetDisplayEndTime();CreateMainteInfoList();CreateRezIdList();var e=document.getElementById("DetailSMaintenanceTypeList");var regSvcClassId;if(e.selectedIndex<0)regSvcClassId=0;else{var svcClassInfo=e.options[e.selectedIndex].value.split(",");regSvcClassId=svcClassInfo[0]}var f=document.getElementById("DetailSMercList");var regMercId;if(f.selectedIndex<0)regMercId=
0;else{var mercInfo=f.options[f.selectedIndex].value.split(",");regMercId=mercInfo[0]}var subAreaId=GetSubChipType(gSelectedChipId);var objSubChip;var rtnVal={Method:method,SvcClassId:regSvcClassId,MercId:regMercId,VisitPlanTime:smbScript.ConvertDateToString2(smbScript.changeStringToDateIcrop($("#DetailSPlanVisitDateTimeSelector").get(0).value)),StartPlanTime:smbScript.ConvertDateToString2(smbScript.changeStringToDateIcrop($("#DetailSPlanStartDateTimeSelector").get(0).value)),FinishPlanTime:smbScript.ConvertDateToString2(smbScript.changeStringToDateIcrop($("#DetailSPlanFinishDateTimeSelector").get(0).value)),
DeriveredPlanTime:smbScript.ConvertDateToString2(smbScript.changeStringToDateIcrop($("#DetailSPlanDeriveredDateTimeSelector").get(0).value)),StartProcessTime:smbScript.ConvertDateToString2(smbScript.changeStringToDateIcrop($("#DetailSProcessStartDateTimeSelector").get(0).value)),FinishProcessTime:smbScript.ConvertDateToString2(smbScript.changeStringToDateIcrop($("#DetailSProcessFinishDateTimeSelector").get(0).value)),PlanWorkTime:$("#DetailSWorkTimeTxt").val(),ProcWorkTime:CalcSC3240201ProcWorkTime(),
RezFlg:$("#RezFlgHidden").val(),CarWashFlg:$("#CarWashFlgHidden").val(),WaitingFlg:$("#WaitingFlgHidden").val(),Order:$("#DetailSOrderTxt").val(),ROInfoChangeFlg:SetSC3240201ROInfo(),DlrCD:$("#hidDlrCD").val(),StrCD:$("#hidBrnCD").val(),Account:icropScript.ui.account,ShowDate:$("#hidShowDate").val(),StallStartTime:$("#hidStallStartTime").val(),StallEndTime:$("#hidStallEndTime").val(),FixItemCodeList:gSC3240201FixItemCodeList,JobinstrucDtlIdList:gSC3240201JobinstrucDtlIdList,JobInstructSeqList:gSC3240201JobInstructSeqList,
JobInstructIdList:gSC3240201JobInstructIdList,ROJobSeqList:gSC3240201RoJobSeqList,MatchingRezIdList:gSC3240201MatchingRezIdList,BeforeMatchingRezIdList:gSC3240201Before_MatchingRezIdList,RezIdList:gSC3240201RezIdList,RezIdStallUseStatusList:gSC3240201RezId_StallUseStatusList,InvisibleInstructFlgList:gSC3240201RezId_InvisibleInstructFlgList,SubAreaId:subAreaId,RestFlg:restFlg,InputStallStartTime:CalcInputStallStartTime(),InputStallEndTime:CalcInputStallEndTime(),StallUseStatus:$("#ChipDetailStallUseStatusHidden").val(),
PrmsEndTime:CalcSC3240201PrmsEndTime(),CstName:$("#DetailSCstNameLabel").text(),Mobile:$("#DetailSMobileLabel").text(),Home:$("#DetailSHomeLabel").text(),RegNo:$("#DetailSRegNoLabel").text(),Vin:$("#DetailSVinLabel").text(),Vehicle:$("#DetailSVehicleLabel").text(),CompleteExaminationFlg:$("#CompleteExaminationFlgHidden").val(),Memo:$("#DetailSMemoTxt").val(),CstAddress:$("#DetailLCstAddressLabel").val(),FleetFlg:$("#FleetFlgHidden").val(),DmsCstCD:$("#DmsCstCdHidden").val(),NameTitleName:$("#NameTitleNameHidden").val(),
PositionType:$("#PositionTypeHidden").val(),CstType:$("#CstTypeHidden").val(),DmsJobDtlId:$("#DmsJobDtlIdHidden").val(),VisitSeq:$("#Visit_VisitSeqHidden").val(),VisitVin:getSC3240201VinName(),InvoiceDateTime:$("#InvoiceDateTimeHidden").val()};switch(subAreaId){case C_FT_BTNTP_CONFIRMED_RO:case C_FT_BTNTP_WAIT_CONFIRMEDADDWORK:objSubChip=gArrObjSubChip[chipId];rtnVal.RowLockVersion=objSubChip.rowLockVersion;rtnVal.SvcInId=objSubChip.svcInId;rtnVal.JobDtlId=objSubChip.jobDtlId;rtnVal.StallUseId=objSubChip.stallUseId;
rtnVal.CstId=objSubChip.cstId;rtnVal.VclId=objSubChip.vclId;rtnVal.ResvStatus=objSubChip.resvStatus;rtnVal.RONum=objSubChip.roNum;rtnVal.SrvAddSeq=objSubChip.srvAddSeq;rtnVal.DispStartTime=$("#hidShowDate").val();rtnVal.DispEndTime=$("#hidShowDate").val();rtnVal.ValidateCode=0;rtnVal.SubPlanWorkTime=objSubChip.scheWorkTime;rtnVal.SubStartPlanTime=smbScript.ConvertDateToString2(objSubChip.scheStartDateTime);rtnVal.SubFinishPlanTime=smbScript.ConvertDateToString2(objSubChip.scheEndDateTime);rtnVal.SubStallId=
objSubChip.stallId;rtnVal.SubRestFlg=objSubChip.restFlg;break;case C_FT_BTNTP_CONFIRMED_INSPECTION:case C_FT_BTNTP_WAITING_WASH:case C_FT_BTNTP_WASHING:case C_FT_BTNTP_WAIT_DELIVERY:case C_FT_BTNTP_NOSHOW:case C_FT_BTNTP_STOP:objSubChip=gArrObjSubChip[chipId];rtnVal.RowLockVersion=objSubChip.rowLockVersion;rtnVal.RONum=objSubChip.roNum;rtnVal.SvcInId=objSubChip.svcInId;rtnVal.JobDtlId=objSubChip.jobDtlId;rtnVal.StallUseId=objSubChip.stallUseId;rtnVal.CstId=objSubChip.cstId;rtnVal.VclId=objSubChip.vclId;
rtnVal.ResvStatus=objSubChip.resvStatus;rtnVal.StallId=objSubChip.stallId;rtnVal.ChipDispStartDate=GetSC3240201ChipDispStartDate();rtnVal.DispStartTime=gSC3240201DisplayChipStartTime;rtnVal.DispEndTime=gSC3240201DisplayChipEndTime;rtnVal.ValidateCode=CheckChipDetailInputValue();break;default:var objChip=gArrObjChip[chipId];rtnVal.RowLockVersion=objChip.rowLockVersion;rtnVal.RONum=objChip.roNum;rtnVal.SvcInId=objChip.svcInId;rtnVal.JobDtlId=objChip.jobDtlId;rtnVal.StallUseId=objChip.stallUseId;rtnVal.CstId=
objChip.cstId;rtnVal.VclId=objChip.vclId;rtnVal.ResvStatus=objChip.resvStatus;rtnVal.StallId=objChip.stallId;rtnVal.ChipDispStartDate=GetSC3240201ChipDispStartDate();rtnVal.DispStartTime=gSC3240201DisplayChipStartTime;rtnVal.DispEndTime=gSC3240201DisplayChipEndTime;rtnVal.ValidateCode=CheckChipDetailInputValue();break}return rtnVal}
function SC3240201AfterCallBack(result,context){var jsonResult=JSON.parse(result);commonClearTimer();var resultCD=jsonResult.ResultCode;if(resultCD==5){gDetailSActiveIndicator.hide();gDetailOverlay.hide();var e=document.getElementById("DetailSMercList");e.options.length=0;$("#DetailSMercLabel").text("");var f=document.getElementById("DetailLMercList");f.options.length=0;$("#DetailLMercLabel").text("");$("#DetailSMercList").attr("disabled",true);$("#DetailLMercList").attr("disabled",true);$("#DetailRegisterBtn").attr("disabled",
IsMandatoryChipDetailEmpty());AfterCallBack();$("#DetailSMercList").attr("MERCITEM",0);return false}else if(resultCD!=0&&resultCD!=-9E3){if(resultCD!=8)icropScript.ShowMessageBox(resultCD,jsonResult.Message,"");gDetailSActiveIndicator.hide();gDetailOverlay.hide();gSC3240201RezIdList=null;gSC3240201RezId_StallUseStatusList=null;gSC3240201RezId_InvisibleInstructFlgList=null;gSC3240201MatchingRezIdList=null;gSC3240201FixItemCodeList=null;gSC3240201JobinstrucDtlIdList=null;gSC3240201JobInstructSeqList=
null;gSC3240201JobInstructIdList=null;gSC3240201RoJobSeqList=null;if(resultCD==8){var result=confirm(htmlDecode($("#WordDuplicateRestOrUnavailableHidden").val()));var restFlg=0;if(result)restFlg=1;else if(!$("#DetailSPlanFinishDateTimeSelector").attr("readonly")){var newEndDateTime=smbScript.CalcEndDate_ExcludeOutOfTime(smbScript.changeStringToDateIcrop($("#DetailSPlanStartDateTimeSelector").get(0).value),$("#DetailSWorkTimeTxt").val());$("#DetailSPlanFinishDateTimeSelector").get(0).value=smbScript.getDateTimelocalDate(newEndDateTime);
$("#DetailSPlanFinishLabel").text(smbScript.ConvertDateOrTime(newEndDateTime,$("#hidShowDate").val()));$("#DetailLPlanFinishDateTimeSelector").get(0).value=smbScript.getDateTimelocalDate(newEndDateTime);$("#DetailLPlanFinishLabel").text($("#DetailSPlanFinishLabel").text())}gDetailSActiveIndicator.show();gDetailOverlay.show();commonRefreshTimer(ReDisplayChipDetail);var prms=CreateCallBackRegistParam(C_SC3240201CALLBACK_REGISTER,gSelectedChipId,restFlg);AfterCallBack();DoCallBack(C_CALLBACK_WND201,
prms,SC3240201AfterCallBack,"ClickDetailOKButton")}else if(resultCD==4){CloseChipDetail(0);HiddenSubChipBox();SetTableUnSelectedStatus(gSelectedChipId);SetChipUnSelectedStatus();ClearOperationList();ClickChangeDate(0)}else{AfterCallBack();return false}}else if(jsonResult.Caller==C_SC3240201CALLBACK_CREATEDISP){if(!CheckgArrObjChip(gSelectedChipId)&&!CheckgArrObjSubChip(gSelectedChipId)){gDetailSActiveIndicator.hide();gDetailOverlay.hide();gMainAreaActiveIndicator.hide();HideChipDetailPopup();SetTableUnSelectedStatus();
SetChipUnSelectedStatus();AfterCallBack();return}InitPage(result,context);gDetailSActiveIndicator.hide();CopyToDetailLWord();CopyToDetailLData();$("#ExpansionButton").css("display","block");$("#DetailRegisterBtn").attr("disabled",false);AfterCallBack();var errorMsg=$("#PartsDtlErrMsgHidden").val();if(errorMsg!="")icropScript.ShowMessageBox("",errorMsg,"")}else if(jsonResult.Caller==C_SC3240201CALLBACK_GETMERC){gDetailSActiveIndicator.hide();gDetailOverlay.hide();var mercDataList=$.parseJSON(htmlDecode(jsonResult.MercJson));
var e=document.getElementById("DetailSMercList");e.options.length=0;$("#DetailSMercLabel").text("");var f=document.getElementById("DetailLMercList");f.options.length=0;$("#DetailLMercLabel").text("");e.options[0]=new Option("",0);f.options[0]=new Option("",0);var i=1;for(var keyString in mercDataList){var mercData=mercDataList[keyString];e.options[i]=new Option(mercData.MERC_NAME,mercData.MERCID_TIME);f.options[i]=new Option(mercData.MERC_NAME,mercData.MERCID_TIME);i=i+1}$("#DetailSMercList").attr("disabled",
false);$("#DetailLMercList").attr("disabled",false);$("#DetailSMercList").attr("MERCITEM",1);$("#DetailRegisterBtn").attr("disabled",IsMandatoryChipDetailEmpty());AfterCallBack()}else{gDetailSActiveIndicator.hide();gDetailOverlay.hide();CloseChipDetail(0);var subAreaId=GetSubChipType(gSelectedChipId);if(subAreaId!="")switch(subAreaId){case C_FT_BTNTP_CONFIRMED_RO:ReceptionAreaReLoad();break;case C_FT_BTNTP_WAIT_CONFIRMEDADDWORK:AddWorkAreaReLoad();break;case C_FT_BTNTP_CONFIRMED_INSPECTION:ComInspectionAreaReLoad();
break;case C_FT_BTNTP_WAITING_WASH:case C_FT_BTNTP_WASHING:CarWashAreaReLoad();break;case C_FT_BTNTP_WAIT_DELIVERY:DeliverdCarAreaReLoad();break;case C_FT_BTNTP_NOSHOW:NoShowAreaReLoad();break;case C_FT_BTNTP_STOP:StopAreaReLoad();break;default:break}else ReceptionButtonRefresh();if(resultCD==-9E3)icropScript.ShowMessageBox(resultCD,jsonResult.Message,"");var jsonData=htmlDecode(jsonResult.Contents);ShowLatestChips(jsonData,false,false);SetChipUnSelectedStatus();SetTableUnSelectedStatus();if(jsonResult.DelDispChip==
1)$("#"+String(jsonResult.StallUseId)).remove();if(IsRelationChip(jsonResult.StallUseId)==true)SetChipDetailForRelationChip(jsonData);gSC3240201RezIdList=null;gSC3240201RezId_StallUseStatusList=null;gSC3240201RezId_InvisibleInstructFlgList=null;gSC3240201Before_MatchingRezIdList=null;gSC3240201MatchingRezIdList=null;gSC3240201FixItemCodeList=null;gSC3240201JobinstrucDtlIdList=null;gSC3240201JobInstructSeqList=null;gSC3240201JobInstructIdList=null;gSC3240201RoJobSeqList=null;AfterCallBack()}}
function SetChipDetailForRelationChip(jsonData){var chipDataList=$.parseJSON(jsonData);for(var strKey in chipDataList){var chipData=chipDataList[strKey];var stallUseId=chipData.STALL_USE_ID;if(gArrObjRelationChip[stallUseId])if(IsDefaultDate(new Date(chipData.RSLT_START_DATETIME)))gArrObjRelationChip[stallUseId].setStartDateTime(chipData.SCHE_START_DATETIME);else gArrObjRelationChip[stallUseId].setStartDateTime(chipData.RSLT_START_DATETIME)}}
function InitPage(result,context){var jsonResult=JSON.parse(result);SetChipDetailContents(jsonResult.Contents);$("#ChipDetailSContent").fingerScroll();$("#ChipDetailLContent").fingerScroll();$("#scrollChip").SC3240201fingerScroll();$("#ChipDetailPopup .ChipDetailEllipsis").CustomLabel({useEllipsis:true});SetChipDetailDisplayAndEvent()}
function SetChipDetailContents(cbResult){var contents=$("<Div>").html(cbResult).text();var detailS=$(contents).find("#ChipDetailSContent");var detailL=$(contents).find("#ChipDetailLContent");var detailHidden=$(contents).find("#SC3240201HiddenArea");$("#ChipDetailSContent>div").remove();detailS.children("div").clone(true).appendTo("#ChipDetailSContent");$("#ChipDetailLContent>div").remove();detailL.children("div").clone(true).appendTo("#ChipDetailLContent");$("#SC3240201HiddenArea>div").remove();detailHidden.children("div").clone(true).appendTo("#SC3240201HiddenArea")}
function SetMarkChipDetail(){if($("#RezFlgHidden").val()!="0"){$("#DetailSIcnD").css("display","none");$("#DetailLIcnD").css("display","none")}if($("#JDPMarkFlgHidden").val()=="1"){$("#DetailSIcnL").css("display","none");$("#DetailLIcnL").css("display","none")}else if($("#JDPMarkFlgHidden").val()=="2"){$("#DetailSIcnP").css("display","none");$("#DetailLIcnP").css("display","none")}else{$("#DetailSIcnP").css("display","none");$("#DetailLIcnP").css("display","none");$("#DetailSIcnL").css("display",
"none");$("#DetailLIcnL").css("display","none")}if($("#SSCMarkFlgHidden").val()=="0"){$("#DetailSIcnS").css("display","none");$("#DetailLIcnS").css("display","none")}}
function InitDeliHisArea(){chipDetailSlideDownFlag=false;if($("#DeliveryPlanUpdateCountHidden").val()!="0"){$("#DetailSChipStatusDiv").click(function(){if(chipDetailSlideDownFlag){SlideUpDetailS();chipDetailSlideDownFlag=false}else{$("#DetailSHeadInfomationPullDiv").slideDown();$("#DetailLHeadInfomationPullDiv").slideDown();chipDetailSlideDownFlag=true}});$("#DetailSHeadInfomationPullDiv").click(function(){SlideUpDetailS();chipDetailSlideDownFlag=false});$("#DetailLChipStatusDiv").click(function(){if(chipDetailSlideDownFlag){SlideUpDetailL();
chipDetailSlideDownFlag=false}else{$("#DetailLHeadInfomationPullDiv").slideDown();$("#DetailSHeadInfomationPullDiv").slideDown();chipDetailSlideDownFlag=true}});$("#DetailLHeadInfomationPullDiv").click(function(){SlideUpDetailL();chipDetailSlideDownFlag=false})}else{$("#DetailSTriangleLabel").css("display","none");$("#DetailLTriangleLabel").css("display","none")}}
function SlideUpDetailS(){$("#DetailSHeadInfomationPullDiv").slideUp();$(".detailSInnerDataBox02 .scroll-inner").css({"transform":"translate3d(0px, 0px, 0px)","-webkit-transition":"transform 400ms"})}function SlideUpDetailL(){$("#DetailLHeadInfomationPullDiv").slideUp();$(".detailLInnerDataBox .scroll-inner").css({"transform":"translate3d(0px, 0px, 0px)","-webkit-transition":"transform 400ms"})}
function InitDetailSChipArea(){var detailSTableStallDl=$("#detailSTableChipUl dl");var copyChipInfo=$("#detailSTableChipUl .Cassette")[0].innerHTML;var chipInfoDivList;var selectChipText="";detailSTableStallDl.each(function(i,elem){if(1<i){$(this).find(".Cassette").children("span").remove();$(this).find(".Cassette").append(copyChipInfo)}chipInfoDivList=$(this).find(".Cassette div");chipInfoDivList.each(function(j,divElem){if($(divElem).attr("rezid")==$(elem).attr("selectrezid"))$(divElem).addClass(C_SC3240201CLASS_CHECKBLUE);
if($(chipInfoDivList).length-1==j)$(divElem).addClass("Unselected")});$(this).attr("maxH",this.clientHeight-39);$(this).attr("openFlg","0");$(this).attr("selectchipindex",$(this).find(".CheckBlue").attr("chipindex"));$(this).height(29);if($(this).attr("selectrezid")=="-1"){selectChipText=$("#WordChipUnselectedHidden").val();$(this).find("dd").children(".SingleLine").css("font-weight","bold")}else selectChipText=$(this).find(".CheckBlue").children("span").text();$(this).find("dd").children(".SingleLine").text(selectChipText)})}
function InitDetailLChipArea(){var detailLChipTr=$("#ChipDetailPopupContent .detailLTableChip2 #chipInfoTable .chipCheck");var copyCheckArea=detailLChipTr[0].innerHTML;var chipInfoDivList;detailLChipTr.each(function(i,elem){if(0<$(detailLChipTr[0]).children("td").length){if(1<$(this).index())$(this).append(copyCheckArea);chipInfoDivList=$(this).find("div");chipInfoDivList.each(function(j,divElem){if($(divElem).attr("rezid")==$(elem).attr("selectrezid"))$(divElem).addClass(C_SC3240201CLASS_CHECKBLUE)});
if(0<$(this).find(".CheckBlue").length)$(this).attr("selectChipIndex",$(this).find(".CheckBlue").attr("chipindex"));else $(this).attr("selectChipIndex","0")}else $(this).height(30)})}
function InitDetailLActionButton(){gBeforeEndWorkCount=0;var detailSTableStallDl=$(".detailLTableChip dl");gBeforeStartFlg=false;var blWorkingFlg=false;var strSvcStatus;var strStalluseStatus;var strTemFlg;var blInstructFlg=false;var scheStartDateTime;var rsltEndDateTime;var selectrezid;var nStopJobCount=0;$("#AllStart").unbind().bind("click",function(e){gSC3240201JobInstructSeqList=new Array;gSC3240201JobInstructIdList=new Array;ClickBtnStartByDetail("AllStart")});$(".BtnBoxSingle .SingleStart").unbind().bind("click",
function(e){gSC3240201JobInstructSeqList=new Array;gSC3240201JobInstructIdList=new Array;gSC3240201JobInstructIdList.push($(e.target.parentElement.parentElement.parentElement).attr("jobinstructid"));gSC3240201JobInstructSeqList.push($(e.target.parentElement.parentElement.parentElement).attr("jobinstructseq"));ClickBtnStartByDetail("SingleStart")});$(".BtnBoxSingle .SingleReStart").unbind().bind("click",function(e){gSC3240201JobInstructSeqList=new Array;gSC3240201JobInstructIdList=new Array;gSC3240201JobInstructIdList.push($(e.target.parentElement.parentElement.parentElement).attr("jobinstructid"));
gSC3240201JobInstructSeqList.push($(e.target.parentElement.parentElement.parentElement).attr("jobinstructseq"));ClickBtnStartByDetail("ReStart")});$(".BtnBoxSingle .SingleFinish").unbind().bind("click",function(e){var nJobInstructId=$(e.target.parentElement.parentElement.parentElement).attr("jobinstructid");var nJobInstructSeq=$(e.target.parentElement.parentElement.parentElement).attr("jobinstructseq");if(gBeforeEndWorkCount>1)gFinishChipFig="0";else gFinishChipFig="1";ClickBtnFinishByDetail("SingleFinish",
nJobInstructId,nJobInstructSeq)});$("#AllStop").unbind().bind("click",function(e){gSC3240201JobInstructSeqList=new Array;gSC3240201JobInstructIdList=new Array;if(gBeforeStartFlg)gStopChipFig="0";else gStopChipFig="1";ClickBtnStopJobByDetail()});$(".BtnBoxSingle .SingleStop").unbind().bind("click",function(e){gSC3240201JobInstructSeqList=new Array;gSC3240201JobInstructIdList=new Array;gSC3240201JobInstructIdList.push($(e.target.parentElement.parentElement.parentElement).attr("jobinstructid"));gSC3240201JobInstructSeqList.push($(e.target.parentElement.parentElement.parentElement).attr("jobinstructseq"));
if(gBeforeEndWorkCount>1)gStopChipFig="0";else gStopChipFig="1";ClickBtnStopJobByDetail()});if(CheckgArrObjChip(gSelectedChipId)){strSvcStatus=gArrObjChip[gSelectedChipId].svcStatus;strTemFlg=gArrObjChip[gSelectedChipId].tempFlg;rsltEndDateTime=gArrObjChip[gSelectedChipId].rsltEndDateTime;scheStartDateTime=gArrObjChip[gSelectedChipId].scheStartDateTime;strStalluseStatus=gArrObjChip[gSelectedChipId].stallUseStatus;selectrezid=gArrObjChip[gSelectedChipId].jobDtlId}else{strSvcStatus=gArrObjSubChip[gSelectedChipId].svcStatus;
strTemFlg=gArrObjSubChip[gSelectedChipId].tempFlg;rsltEndDateTime=gArrObjSubChip[gSelectedChipId].rsltEndDateTime;scheStartDateTime=gArrObjSubChip[gSelectedChipId].scheStartDateTime;strStalluseStatus=gArrObjSubChip[gSelectedChipId].stallUseStatus;selectrezid=gArrObjSubChip[gSelectedChipId].jobDtlId}if(strStalluseStatus>=C_STALLUSE_STATUS_STARTWAIT&&strStalluseStatus<=C_STALLUSE_STATUS_MIDFINISH)blInstructFlg=true;if(strStalluseStatus=="02"||strStalluseStatus=="04")gStartChipFig="0";else gStartChipFig=
"1";$("#AllFinish").addClass("BtnOff");if(strSvcStatus=="00"||strSvcStatus=="01"||strTemFlg=="1"||!blInstructFlg||strStalluseStatus=="05"||!IsDefaultDate(rsltEndDateTime)||IsDefaultDate(scheStartDateTime)){$("#AllStart").addClass("BtnOff");$("#AllStop").addClass("BtnOff");$(".BtnBoxSingle .SingleStart").addClass("BtnOff");$(".BtnBoxSingle .SingleFinish").addClass("BtnOff");$(".BtnBoxSingle .SingleStop").addClass("BtnOff");$(".BtnBoxSingle .SingleReStart").addClass("BtnOff");$("#AllStart").unbind();
$("#AllStop").unbind();$(".BtnBoxSingle .SingleStart").unbind();$(".BtnBoxSingle .SingleFinish").unbind();$(".BtnBoxSingle .SingleStop").unbind();$(".BtnBoxSingle .SingleReStart").unbind();detailSTableStallDl.each(function(i,elem){if($(this).attr("jobstatus")=="2"){$(this).find(".BtnBoxSingle .SingleStop")[0].parentNode.outerHTML="";$(this).find(".BtnBoxSingle .SingleReStart").css("display","block")}if($(this).attr("jobstatus")!="-1")if($(this).find(".BtnBoxSingle .SingleStart").length>0)$(this).find("p").addClass(C_SC3240201CLASS_BACKGROUNDGRAY)})}else{detailSTableStallDl.each(function(i,
elem){if($(this).attr("jobstatus")=="-1"&&$(this).attr("selectrezid")==selectrezid){$(this).find(".BtnBoxSingle .SingleStart").addClass("BtnOn");$(this).find(".BtnBoxSingle .SingleFinish").addClass("BtnOff");$(this).find(".BtnBoxSingle .SingleStop").addClass("BtnOff");$(this).find(".BtnBoxSingle .SingleReStart").addClass("BtnOff");$(this).find(".BtnBoxSingle .SingleReStart").unbind();$(this).find(".BtnBoxSingle .SingleFinish").unbind();$(this).find(".BtnBoxSingle .SingleStop").unbind();gBeforeStartFlg=
true;gBeforeEndWorkCount=gBeforeEndWorkCount+1}else if($(this).attr("jobstatus")=="0"&&$(this).attr("selectrezid")==selectrezid){$(this).find(".BtnBoxSingle .SingleFinish").addClass("BtnOn");$(this).find(".BtnBoxSingle .SingleStart").addClass("BtnOff");$(this).find(".BtnBoxSingle .SingleStop").addClass("BtnOn");$(this).find(".BtnBoxSingle .SingleReStart").addClass("BtnOff");if($(this).find(".BtnBoxSingle .SingleStart").length>0){$(this).find("p").addClass(C_SC3240201CLASS_BACKGROUNDGRAY);$(this).find(".BtnBoxSingle .SingleReStart").unbind();
$(this).find(".BtnBoxSingle .SingleStart").unbind()}blWorkingFlg=true;gBeforeEndWorkCount=gBeforeEndWorkCount+1}else if($(this).attr("jobstatus")=="2"&&$(this).attr("selectrezid")==selectrezid){$(this).find(".BtnBoxSingle .SingleStop")[0].parentNode.outerHTML="";$(this).find(".BtnBoxSingle .SingleReStart").css("display","block");$(this).find(".BtnBoxSingle .SingleReStart").addClass("BtnOn");$(this).find(".BtnBoxSingle .SingleFinish").addClass("BtnOff");$(this).find(".BtnBoxSingle .SingleStart").addClass("BtnOff");
nStopJobCount=nStopJobCount+1;if($(this).find(".BtnBoxSingle .SingleStart").length>0){$(this).find("p").addClass(C_SC3240201CLASS_BACKGROUNDGRAY);$(this).find(".BtnBoxSingle .SingleFinish").unbind();$(this).find(".BtnBoxSingle .SingleStart").unbind()}}else if($(this).find(".BtnBoxSingle .SingleStart").length>0){$(this).find(".BtnBoxSingle .SingleReStart").addClass("BtnOff");$(this).find(".BtnBoxSingle .SingleFinish").addClass("BtnOff");$(this).find(".BtnBoxSingle .SingleStart").addClass("BtnOff");
$(this).find(".BtnBoxSingle .SingleStop").addClass("BtnOff");$(this).find("p").addClass(C_SC3240201CLASS_BACKGROUNDGRAY);$(this).find(".BtnBoxSingle .SingleStart").unbind();$(this).find(".BtnBoxSingle .SingleFinish").unbind();$(this).find(".BtnBoxSingle .SingleStop").unbind();$(this).find(".BtnBoxSingle .SingleReStart").unbind()}});if(gBeforeStartFlg)$("#AllStart").addClass("BtnOn");else{$("#AllStart").addClass("BtnOff");$("#AllStart").unbind()}if(gBeforeEndWorkCount==1&&nStopJobCount==0){$(".BtnBoxSingle .SingleFinish").addClass("BtnOff");
$(".BtnBoxSingle .SingleFinish").unbind()}if(blWorkingFlg)$("#AllStop").addClass("BtnOn");else{$("#AllStop").addClass("BtnOff");$("#AllStop").unbind()}}}
function SetChipDetialLayoutForAddWorkArea(){$("#detailLMaintenanceNoCstApproveLi").css("height","29px");$(".ChipDetailPopStyle .detailLTableChip dt, .ChipDetailPopStyle .detailLTableChip dd").css("line-height","29px");$(".ChipDetailPopStyle .detailLTableChip2 .detailLTitleCassette").height(28);$("#detailLMaintenanceNoCstApproveLi2").css("height","29px");$("#DetailLMaintenanceItemsWordLabel").css("line-height","61px");$("#DetailLMaintenanceNoWordLabel").css("line-height","61px")}
function SetOtherDetailSChipArea(){var detailSTableStallDl=$("#detailSTableChipUl dl");detailSTableStallDl.each(function(i,elem){if($(elem).attr("selectrezid")==undefined||$("#MyJobDtlIdHidden").val()==$(elem).attr("selectrezid"))$(elem).find("dd").addClass(C_SC3240201CLASS_FONTBOLD);else $(elem).find("dd").addClass(C_SC3240201CLASS_FONTNORMAL);chipInfoDivList=$(this).find(".Cassette div");chipInfoDivList.each(function(j,divElem){if($("#MyJobDtlIdHidden").val()==$(divElem).attr("rezid")||$(divElem).attr("rezid")==
"-1"||$(divElem).hasClass("Unselected"))$(divElem).addClass(C_SC3240201CLASS_FONTBOLD);else $(divElem).addClass(C_SC3240201CLASS_FONTNORMAL);if($(divElem).attr("stallusestatus")=="03"||$(elem).attr("jobstatus")=="0"||$(elem).attr("jobstatus")=="1"||$(elem).attr("jobstatus")=="2"){$(divElem).addClass(C_SC3240201CLASS_BACKGROUNDGRAY);$(divElem).addClass(C_SC3240201CLASS_TEXTBLACK);if($(divElem).attr("rezid")==$(elem).attr("selectrezid"))$(elem).children("dd").addClass(C_SC3240201CLASS_BACKGROUNDGRAY)}else $(divElem).addClass(C_SC3240201CLASS_TEXTBLUE)});
if($(this).find("dd").hasClass(C_SC3240201CLASS_BACKGROUNDGRAY))$(this).find("dd").children(".SingleLine").css("color","#000");else $(this).find("dd").children(".SingleLine").css("color","#324f85")})}
function SetOtherDetailLChipArea(){var detailLTableStallDl=$("#detailLTableChipUl dl");detailLTableStallDl.each(function(i,elem){if($(elem).attr("selectrezid")==undefined||$("#MyJobDtlIdHidden").val()==$(elem).attr("selectrezid"))$(elem).find("dd").addClass(C_SC3240201CLASS_FONTBOLD);else $(elem).find("dd").addClass(C_SC3240201CLASS_FONTNORMAL);if($(elem).attr("stallusestatus")=="03"||$(elem).attr("jobstatus")=="0"||$(elem).attr("jobstatus")=="1"||$(elem).attr("jobstatus")=="2"){$(elem).find("dd").addClass(C_SC3240201CLASS_BACKGROUNDGRAY);
var chipInfoTr=$("#ChipDetailPopupContent .detailLTableChip2").find("tr");chipInfoTr.each(function(j,elem2){if($(elem2).attr("rowindex")!=undefined&&$(elem2).attr("rowindex")==i){$(elem2).addClass(C_SC3240201CLASS_BACKGROUNDGRAY);var chipInfoDivList2=$(elem2).find("div");chipInfoDivList2.each(function(k,elem3){if($(elem3).hasClass(C_SC3240201CLASS_CHECKBLUE))$(elem3).removeClass(C_SC3240201CLASS_CHECKBLUE).addClass(C_SC3240201CLASS_CHECKBLACK)})}})}});var chipInfoDivList=$("#ChipDetailPopupContent .detailLTableChip2").find("td");
chipInfoDivList.each(function(j,divElem){if($(divElem).find("div").attr("stallusestatus")=="03"){$(divElem).addClass(C_SC3240201CLASS_BACKGROUNDGRAY);if($(divElem).find("div").hasClass(C_SC3240201CLASS_CHECKBLUE))$(divElem).find("div").removeClass(C_SC3240201CLASS_CHECKBLUE).addClass(C_SC3240201CLASS_CHECKBLACK)}})}
function SetDetailReservationArea(isEditable){if(isEditable){$("#DetailSReserveLi dd").addClass(C_SC3240201CLASS_TEXTBLUE);$("#DetailLReserveLi dd").addClass(C_SC3240201CLASS_TEXTBLUE);if($("#RezFlgHidden").val()!="1"){$("#DetailSReserveLi dd:first").addClass(C_SC3240201CLASS_CHECKBLUE);$("#DetailLReserveLi dd:first").addClass(C_SC3240201CLASS_CHECKBLUE)}else{$("#DetailSReserveLi dd:last").addClass(C_SC3240201CLASS_CHECKBLUE);$("#DetailLReserveLi dd:last").addClass(C_SC3240201CLASS_CHECKBLUE)}SetEventDetailReservationArea()}else{$("#DetailSReserveLi dd").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLReserveLi dd").addClass(C_SC3240201CLASS_TEXTBLACK);if($("#RezFlgHidden").val()!="1"){$("#DetailSReserveLi dd:first").addClass(C_SC3240201CLASS_CHECKBLACK);$("#DetailLReserveLi dd:first").addClass(C_SC3240201CLASS_CHECKBLACK)}else{$("#DetailSReserveLi dd:last").addClass(C_SC3240201CLASS_CHECKBLACK);$("#DetailLReserveLi dd:last").addClass(C_SC3240201CLASS_CHECKBLACK)}}}
function SetDetailCarWashArea(isEditable){if(isEditable){$("#DetailSCarWashLi dd").addClass(C_SC3240201CLASS_TEXTBLUE);$("#DetailLCarWashLi dd").addClass(C_SC3240201CLASS_TEXTBLUE);if($("#CarWashFlgHidden").val()=="1"){$("#DetailSCarWashLi dd:first").addClass(C_SC3240201CLASS_CHECKBLUE);$("#DetailLCarWashLi dd:first").addClass(C_SC3240201CLASS_CHECKBLUE)}else{$("#DetailSCarWashLi dd:last").addClass(C_SC3240201CLASS_CHECKBLUE);$("#DetailLCarWashLi dd:last").addClass(C_SC3240201CLASS_CHECKBLUE)}SetEventDetailCarWashArea()}else{$("#DetailSCarWashLi dd").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLCarWashLi dd").addClass(C_SC3240201CLASS_TEXTBLACK);if($("#CarWashFlgHidden").val()=="1"){$("#DetailSCarWashLi dd:first").addClass(C_SC3240201CLASS_CHECKBLACK);$("#DetailLCarWashLi dd:first").addClass(C_SC3240201CLASS_CHECKBLACK)}else{$("#DetailSCarWashLi dd:last").addClass(C_SC3240201CLASS_CHECKBLACK);$("#DetailLCarWashLi dd:last").addClass(C_SC3240201CLASS_CHECKBLACK)}}}
function SetDetailWaitingArea(isEditable){if(isEditable){$("#DetailSWaitingLi dd").addClass(C_SC3240201CLASS_TEXTBLUE);$("#DetailLWaitingLi dd").addClass(C_SC3240201CLASS_TEXTBLUE);if($("#WaitingFlgHidden").val()!="4"){$("#DetailSWaitingLi dd:first").addClass(C_SC3240201CLASS_CHECKBLUE);$("#DetailLWaitingLi dd:first").addClass(C_SC3240201CLASS_CHECKBLUE)}else{$("#DetailSWaitingLi dd:last").addClass(C_SC3240201CLASS_CHECKBLUE);$("#DetailLWaitingLi dd:last").addClass(C_SC3240201CLASS_CHECKBLUE)}SetEventDetailWaitingArea()}else{$("#DetailSWaitingLi dd").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLWaitingLi dd").addClass(C_SC3240201CLASS_TEXTBLACK);if($("#WaitingFlgHidden").val()!="4"){$("#DetailSWaitingLi dd:first").addClass(C_SC3240201CLASS_CHECKBLACK);$("#DetailLWaitingLi dd:first").addClass(C_SC3240201CLASS_CHECKBLACK)}else{$("#DetailSWaitingLi dd:last").addClass(C_SC3240201CLASS_CHECKBLACK);$("#DetailLWaitingLi dd:last").addClass(C_SC3240201CLASS_CHECKBLACK)}}}
function SetDetailCompleteExaminationArea(isEditable){if(isEditable){$("#DetailSCompleteExaminationLi dd").addClass(C_SC3240201CLASS_TEXTBLUE);$("#DetailLCompleteExaminationLi dd").addClass(C_SC3240201CLASS_TEXTBLUE);if($("#CompleteExaminationFlgHidden").val()=="1"){$("#DetailSCompleteExaminationLi dd:first").addClass(C_SC3240201CLASS_CHECKBLUE);$("#DetailLCompleteExaminationLi dd:first").addClass(C_SC3240201CLASS_CHECKBLUE)}else{$("#DetailSCompleteExaminationLi dd:last").addClass(C_SC3240201CLASS_CHECKBLUE);
$("#DetailLCompleteExaminationLi dd:last").addClass(C_SC3240201CLASS_CHECKBLUE)}SetEventDetailCompleteExaminationArea()}else{$("#DetailSCompleteExaminationLi dd").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLCompleteExaminationLi dd").addClass(C_SC3240201CLASS_TEXTBLACK);if($("#CompleteExaminationFlgHidden").val()=="1"){$("#DetailSCompleteExaminationLi dd:first").addClass(C_SC3240201CLASS_CHECKBLACK);$("#DetailLCompleteExaminationLi dd:first").addClass(C_SC3240201CLASS_CHECKBLACK)}else{$("#DetailSCompleteExaminationLi dd:last").addClass(C_SC3240201CLASS_CHECKBLACK);
$("#DetailLCompleteExaminationLi dd:last").addClass(C_SC3240201CLASS_CHECKBLACK)}}}function SetDetailLIndividualOrCorporationArea(){if($("#FleetFlgHidden").val()=="1")$(".detailLIndividualOrCorporation dd:last").addClass(C_SC3240201CLASS_CHECKBLACK);else if($("#FleetFlgHidden").val()=="0")$(".detailLIndividualOrCorporation dd:first").addClass(C_SC3240201CLASS_CHECKBLACK)}
function InitDetailTextArea(ctrlTa,ctrlDt){var settingHeight=0;var textArea=ctrlTa;var headerDt=ctrlDt;if(C_SC3240201TA_DEFAULTHEIGHT<textArea.attr("scrollHeight"))settingHeight=textArea.attr("scrollHeight");else settingHeight=C_SC3240201TA_DEFAULTHEIGHT;textArea.height(settingHeight);headerDt.css("line-height",settingHeight+12+"px")}
function AdjusterDetailTextArea(ctrlTa,ctrlDt){var textArea=ctrlTa;var headerDt=ctrlDt;textArea.height(C_SC3240201TA_DEFAULTHEIGHT);var tmp_sh=textArea.attr("scrollHeight");while(tmp_sh>textArea.attr("scrollHeight")){tmp_sh=textArea.attr("scrollHeight");textarea[0].scrollHeight++}if(textArea.attr("scrollHeight")>=textArea.attr("offsetHeight")){textArea.height(textArea.attr("scrollHeight"));headerDt.css("line-height",textArea.attr("scrollHeight")+12+"px")}}
function ControlLengthTextarea(ta){var maxLen=ta.attr("maxlen");var overFlg=0;var v=ta.val();if(v.length>maxLen)var overFlg=1;if(overFlg=="1"){var AfterStr=v.substr(0,maxLen);ta.val(AfterStr)}}
function CloseChipDetail(closeFlg){$("#DetailSMaintenanceTypeList").remove();$("#DetailSMercList").remove();$("#DetailLMaintenanceTypeList").remove();$("#DetailLMercList").remove();if(closeFlg=="1"){$("#DetailLeftBtnDiv").addClass("icrop-pressed");$("#DetailCancelBtn").css("background-image","none");setTimeout(function(){$("#DetailLeftBtnDiv").removeClass("icrop-pressed");$("#DetailCancelBtn").css("background-image","-webkit-gradient(linear, left top, left bottom, from(#4f5769),color-stop(0.01, #4f5769),color-stop(0.01, #576174),color-stop(0.5, #1a233e),color-stop(0.5, #000b29),to(#000b29))")},
300)}$("#ChipDetailPopup").fadeOut(300);ShrinkDisplay(0);commonClearTimer();RedisplayFooterBtnByChipDetail();return false}
function RedisplayFooterBtnByChipDetail(){var subAreaId=GetSubChipFootButtonType(gSelectedChipId);if(subAreaId=="")if($("#hidRestAutoJudgeFlg").val()=="1"){var nOverDaysType=GetChipOverDaysType(gSelectedChipId);if(C_OVERDAYS_NONE<nOverDaysType){var jsonData={Method:"GetCanRestChange",ShowDate:$("#hidShowDate").val(),StallUseId:gArrObjChip[gSelectedChipId].stallUseId};DoCallBack(C_CALLBACK_WND101,jsonData,SC3240101AfterCallBack,jsonData.Method)}else{var canRestChange=CanRestChange(gSelectedChipId);
CreateFooterButton(C_FT_DISPTP_SELECTED,GetChipType(gSelectedChipId),gArrObjChip[gSelectedChipId].tlmContractFlg,canRestChange)}}else CreateFooterButton(C_FT_DISPTP_SELECTED,GetChipType(gSelectedChipId),gArrObjChip[gSelectedChipId].tlmContractFlg,false);else CreateFooterButton(C_FT_DISPTP_SELECTED,subAreaId,gArrObjSubChip[gSelectedChipId].tlmContractFlg)}
function CopyToDetailLWord(){$("#DetailLDeriveredPlanWordLabel").text($("#DetailSDeriveredPlanWordLabel").text());$("#DetailLDeriveredProspectWordLabel").text($("#DetailSDeriveredProspectWordLabel").text());$("#DetailLRegNoWordLabel").text($("#DetailSRegNoWordLabel").text());$("#DetailLVinWordLabel").text($("#DetailSVinWordLabel").text());$("#DetailLVehicleWordLabel").text($("#DetailSVehicleWordLabel").text());$("#DetailLCstNameWordLabel").text($("#DetailSCstNameWordLabel").text());$("#DetailLMobileWordLabel").text($("#DetailSMobileWordLabel").text());
$("#DetailLHomeWordLabel").text($("#DetailSHomeWordLabel").text());$("#DetailLSAWordLabel").text($("#DetailSSAWordLabel").text());$("#DetailLIcnD").text($("#DetailSIcnD").text());$("#DetailLIcnD").text($("#DetailSIcnD").text());$("#DetailLIcnP").text($("#DetailSIcnP").text());$("#DetailLIcnL").text($("#DetailSIcnL").text());$("#DetailLIcnS").text($("#DetailSIcnS").text());$("#DetailLVisitTimeWordLabel").text($("#DetailSVisitTimeWordLabel").text());$("#DetailLStartTimeWordLabel").text($("#DetailSStartTimeWordLabel").text());
$("#DetailLFinishTimeWordLabel").text($("#DetailSFinishTimeWordLabel").text());$("#DetailLDeliveredTimeWordLabel").text($("#DetailSDeliveredTimeWordLabel").text());$("#DetailLPlanTimeWordLabel").text($("#DetailSPlanTimeWordLabel").text());$("#DetailLProcessTimeWordLabel").text($("#DetailSProcessTimeWordLabel").text());$("#DetailLMaintenanceTypeWordLabel").text($("#DetailSMaintenanceTypeWordLabel").text());$("#DetailLWorkTimeWordLabel").text($("#DetailSWorkTimeWordLabel").text());$("#DetailLMercWordLabel").text($("#DetailSMercWordLabel").text());
$("#DetailLMaintenanceNoWordLabel").text($("#DetailSMaintenanceNoWordLabel").text());$("#DetailLMaintenanceWordLabel").text($("#DetailSMaintenanceWordLabel").text());$("#DetailLStallWordLabel").text($("#DetailSStallWordLabel").text());$("#DetailLMaintenanceNoCstApproveLabel").text($("#DetailSMaintenanceNoCstApproveLabel").text());$("#DetailLPartsNoWordLabel").text($("#DetailSPartsNoWordLabel").text());$("#DetailLPartsWordLabel").text($("#DetailSPartsWordLabel").text());$("#DetailLTablePartsNoCstApproveLabel").text($("#DetailSTablePartsNoCstApproveLabel").text());
$("#DetailLOrderWordLabel").text($("#DetailSOrderWordLabel").text());$("#DetailLMemoWord1Label").text($("#DetailSMemoWord1Label").text());$("#DetailLReservationCheckWordLabel").text($("#DetailSReservationCheckWordLabel").text());$("#DetailLCarWashCheckWordLabel").text($("#DetailSCarWashCheckWordLabel").text());$("#DetailLWaitingCheckWordLabel").text($("#DetailSWaitingCheckWordLabel").text());$("#DetailLReservationYesWordLabel").text($("#DetailSReservationYesWordLabel").text());$("#DetailLWalkInWordLabel").text($("#DetailSWalkInWordLabel").text());
$("#DetailLCarWashYesWordLabel").text($("#DetailSCarWashYesWordLabel").text());$("#DetailLCarWashNoWordLabel").text($("#DetailSCarWashNoWordLabel").text());$("#DetailLWaitingInsideWordLabel").text($("#DetailSWaitingInsideWordLabel").text());$("#DetailLWaitingOutsideWordLabel").text($("#DetailSWaitingOutsideWordLabel").text());$("#DetailLCompleteExaminationCheckWordLabel").text($("#DetailSCompleteExaminationCheckWordLabel").text());$("#DetailLCompleteExaminationYesWordLabel").text($("#DetailSCompleteExaminationYesWordLabel").text());
$("#DetailLCompleteExaminationNoWordLabel").text($("#DetailSCompleteExaminationNoWordLabel").text())}
function CopyToDetailLData(){$("#DetailLDeriveredPlanTimeLabel").text($("#DetailSDeriveredPlanTimeLabel").text());$("#DetailLChipStatusLabel").text($("#DetailSChipStatusLabel").text());$("#DetailLChangeNumberLabel").text($("#DetailSChangeNumberLabel").text());$("#DetailLTriangleLabel").text($("#DetailSTriangleLabel").text());$("#DetailLDeriveredProspectTimeLabel").text($("#DetailSDeriveredProspectTimeLabel").text());$("#DetailLFixUpArrow").text($("#DetailSFixUpArrow").text());$("#DetailLRegNoLabel").text($("#DetailSRegNoLabel").text());
$("#DetailLVinLabel").text($("#DetailSVinLabel").text());$("#DetailLVehicleLabel").text($("#DetailSVehicleLabel").text());$("#DetailLCstNameLabel").text($("#DetailSCstNameLabel").text());$("#DetailLMobileLabel").text($("#DetailSMobileLabel").text());$("#DetailLHomeLabel").text($("#DetailSHomeLabel").text());$("#DetailLSALabel").text($("#DetailSSALabel").text());$("#DetailLPlanVisitLabel").text($("#DetailSPlanVisitLabel").text());$("#DetailLPlanStartLabel").text($("#DetailSPlanStartLabel").text());
$("#DetailLPlanFinishLabel").text($("#DetailSPlanFinishLabel").text());$("#DetailLPlanDeriveredLabel").text($("#DetailSPlanDeriveredLabel").text());$("#DetailLProcessVisitTimeLabel").text($("#DetailSProcessVisitTimeLabel").text());$("#DetailLProcessStartLabel").text($("#DetailSProcessStartLabel").text());$("#DetailLProcessFinishLabel").text($("#DetailSProcessFinishLabel").text());$("#DetailLProcessDeriveredTimeLabel").text($("#DetailSProcessDeriveredTimeLabel").text());$("#DetailLPlanVisitDateTimeSelector").get(0).value=
$("#DetailSPlanVisitDateTimeSelector").get(0).value;$("#DetailLPlanStartDateTimeSelector").get(0).value=$("#DetailSPlanStartDateTimeSelector").get(0).value;$("#DetailLPlanFinishDateTimeSelector").get(0).value=$("#DetailSPlanFinishDateTimeSelector").get(0).value;$("#DetailLPlanDeriveredDateTimeSelector").get(0).value=$("#DetailSPlanDeriveredDateTimeSelector").get(0).value;$("#DetailLProcessStartDateTimeSelector").get(0).value=$("#DetailSProcessStartDateTimeSelector").get(0).value;$("#DetailLProcessFinishDateTimeSelector").get(0).value=
$("#DetailSProcessFinishDateTimeSelector").get(0).value;$("#DetailLProcessVisitTimeLabel").attr("datetime",$("#DetailSProcessVisitTimeLabel").attr("datetime"));$("#DetailLProcessDeriveredTimeLabel").attr("datetime",$("#DetailSProcessDeriveredTimeLabel").attr("datetime"));$("#DetailLWorkTimeTxt").val($("#DetailSWorkTimeTxt").val());$("#DetailLWorkTimeLabel").text($("#DetailSWorkTimeLabel").text());$("#DetailLOrderTxt").val($("#DetailSOrderTxt").val());$("#DetailLMemoTxt").val($("#DetailSMemoTxt").val());
var largeChipTableRow=$("#chipInfoTable tr:eq(0)");var rezIdListDiv=$("#DetailSMaintenanceDl").find("div");if(!$.isEmptyObject(rezIdListDiv))rezIdListDiv.each(function(i,elem){if($(elem).attr("rezid")!="-1")if($(elem).attr("stallusestatus")=="03")largeChipTableRow.append("<td style='background-color: #F2F2F2; '><span class='ChipDetailEllipsis icrop-CustomLabel' style='display: inline-block; width: 90px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; '>"+elem.children[0].innerHTML+
"</td></span>");else largeChipTableRow.append("<td><span class='ChipDetailEllipsis icrop-CustomLabel' style='display: inline-block; width: 90px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; '>"+elem.children[0].innerHTML+"</td></span>")})}
function SetChipDetailDisplayAndEvent(){$("#ExpansionButton").bind("click",ExpandDisplay);$("#ShrinkingButton").bind("click",ShrinkDisplay);InitDeliHisArea();SetMarkChipDetail();var subAreaId=GetSubChipType(gSelectedChipId);if(subAreaId!=C_FT_BTNTP_WAIT_CONFIRMEDADDWORK){if($("#detailSTableChipUl").css("display")!="none"){InitDetailSChipArea();InitDetailLChipArea();SetOtherDetailSChipArea();SetOtherDetailLChipArea()}}else SetChipDetialLayoutForAddWorkArea();InitDetailLActionButton();InitDetailTextArea($("#DetailSOrderTxt"),
$("#DetailSOrderDt"));InitDetailTextArea($("#DetailSMemoTxt"),$("#DetailSMemoDt"));InitDetailTextArea($("#DetailLOrderTxt"),$("#DetailLOrderDt"));InitDetailTextArea($("#DetailLMemoTxt"),$("#DetailLMemoDt"));SetDetailLIndividualOrCorporationArea();SetDetailSTextEvent();SetDetailLTextEvent();var subAreaId=GetSubChipType(gSelectedChipId);if(subAreaId!="")SetChipDetailBySubAreaId(subAreaId);else SetChipDetailByStatusEtc();CreateChipDetailBeforeData()}
function SetChipDetailBySubAreaId(subAreaId){var stallUseStatus=$("#ChipDetailStallUseStatusHidden").val().Trim();var orderNo=$("#ChipDetailOrderNoHidden").val().Trim();var processVisit=$("#DetailSProcessVisitTimeLabel").attr("datetime");switch(subAreaId){case C_FT_BTNTP_CONFIRMED_RO:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanFinishDateTimeSelector").attr("readonly",
"true").attr("disabled","true");$("#DetailLPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");if(IsMinDate(processVisit)==false){$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly",
"true").attr("disabled","true")}$("#DetailSMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMaintenanceTypeList").attr("disabled","true");$("#DetailLMaintenanceTypeList").attr("disabled","true");$("#DetailSMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMercList").attr("disabled","true");$("#DetailLMercList").attr("disabled","true");SetReadOnlyDetailWorkTime();
SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);SetDetailCompleteExaminationArea(false);if(stallUseStatus=="03")SetReadOnlyDetailChipArea();if(0<$("#DetailSMaintenanceDl").find("div").length){if(stallUseStatus!="03"){SetEventDetailSChipArea();SetEventDetailLChipArea()}}else SetDetailSSingleLineTextEmpty();$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly",
"true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");break;case C_FT_BTNTP_WAIT_CONFIRMEDADDWORK:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled",
"true");$("#DetailSPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");if(IsMinDate(processVisit)==false){$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true")}$("#DetailSMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMaintenanceTypeList").attr("disabled","true");$("#DetailLMaintenanceTypeList").attr("disabled","true");$("#DetailSMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMercList").attr("disabled","true");$("#DetailLMercList").attr("disabled","true");SetReadOnlyDetailWorkTime();SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);
SetDetailCompleteExaminationArea(false);SetDetailSSingleLineTextEmpty();$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");break;case C_FT_BTNTP_CONFIRMED_INSPECTION:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailSPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanStartDateTimeSelector").attr("readonly",
"true").attr("disabled","true");$("#DetailSPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMaintenanceTypeList").attr("disabled","true");$("#DetailLMaintenanceTypeList").attr("disabled","true");$("#DetailSMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMercList").attr("disabled",
"true");$("#DetailLMercList").attr("disabled","true");SetReadOnlyDetailWorkTime();SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);SetDetailCompleteExaminationArea(false);SetReadOnlyDetailChipArea();$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly",
"true");break;case C_FT_BTNTP_WAITING_WASH:case C_FT_BTNTP_WASHING:case C_FT_BTNTP_WAIT_DELIVERY:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanStartDateTimeSelector").attr("readonly",
"true").attr("disabled","true");$("#DetailLPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMaintenanceTypeList").attr("disabled","true");$("#DetailLMaintenanceTypeList").attr("disabled","true");
$("#DetailSMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMercList").attr("disabled","true");$("#DetailLMercList").attr("disabled","true");SetReadOnlyDetailWorkTime();SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);SetDetailCompleteExaminationArea(false);SetReadOnlyDetailChipArea();$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly",
"true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");break;case C_FT_BTNTP_NOSHOW:$("#DetailSPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");
$("#DetailSPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");SetReadOnlyDetailWorkTime();SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);SetDetailCompleteExaminationArea(false);SetReadOnlyDetailChipArea();$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly",
"true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");break;case C_FT_BTNTP_STOP:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanVisitDateTimeSelector").attr("readonly",
"true").attr("disabled","true");$("#DetailSPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");SetReadOnlyDetailWorkTime();SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);
SetDetailCompleteExaminationArea(false);if(stallUseStatus=="03")SetReadOnlyDetailChipArea();if(0<$("#DetailSMaintenanceDl").find("div").length){if(stallUseStatus!="03"){SetEventDetailSChipArea();SetEventDetailLChipArea()}}else SetDetailSSingleLineTextEmpty();$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");
$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");break;default:break}}function SetDetailSSingleLineTextEmpty(){var detailSTableStallDl=$("#detailSTableChipUl dl");detailSTableStallDl.each(function(){$(this).find("dd").children(".SingleLine").text("")})}
function SetChipDetailByStatusEtc(){var wkStatus;var svcStatus=$("#ChipDetailSvcStatusHidden").val().Trim();var stallUseStatus=$("#ChipDetailStallUseStatusHidden").val().Trim();var resvStatus=$("#ChipDetailResvStatusHidden").val().Trim();var orderNo=$("#ChipDetailOrderNoHidden").val().Trim();var processVisit=$("#DetailSProcessVisitTimeLabel").attr("datetime");if(svcStatus=="13")wkStatus=C_SC3240201_CP_DELI;else if(svcStatus=="11"||svcStatus=="12")wkStatus=C_SC3240201_WAIT_DELI;else if(svcStatus==
"08")wkStatus=C_SC3240201_WASHING;else if(svcStatus=="07")wkStatus=C_SC3240201_WAIT_WASH;else if(svcStatus=="09")wkStatus=C_SC3240201_WAIT_INSPECTION;else if(svcStatus=="10")wkStatus=C_SC3240201_INSPECTION;else if(stallUseStatus=="03")wkStatus=C_SC3240201_FINISH_WORK;else if(stallUseStatus=="06")wkStatus=C_SC3240201_MIDFINISH;else if(stallUseStatus=="01")wkStatus=C_SC3240201_WORK_ORDER;else if(stallUseStatus=="05")wkStatus=C_SC3240201_STOP;else if(stallUseStatus=="02")wkStatus=C_SC3240201_WORKING;
else if(IsMinDate(processVisit)==false)wkStatus=C_SC3240201_CARIN;else if(IsMinDate(processVisit)==true&&resvStatus=="1")wkStatus=C_SC3240201_REZ_COMMITTED;else if(IsMinDate(processVisit)==true&&resvStatus=="0")wkStatus=C_SC3240201_REZ_TEMP;else wkStatus=C_SC3240201_REZ_TEMP;switch(wkStatus){case C_SC3240201_REZ_TEMP:case C_SC3240201_REZ_COMMITTED:SetDetailReservationArea(true);SetDetailCarWashArea(true);SetDetailWaitingArea(true);SetDetailCompleteExaminationArea(true);SetReadOnlyDetailChipArea();
var subAreaId=GetSubChipType(gSelectedChipId);if(subAreaId!=""){$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true")}$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");break;case C_SC3240201_CARIN:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanVisitDateTimeSelector").attr("readonly",
"true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");
SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);SetDetailCompleteExaminationArea(true);if(orderNo=="")SetReadOnlyDetailChipArea();if(0<$("#DetailSMaintenanceDl").find("div").length){SetEventDetailSChipArea();SetEventDetailLChipArea()}$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly",
"true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");break;case C_SC3240201_WORK_ORDER:case C_SC3240201_REPOST:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);SetDetailCompleteExaminationArea(true);if(0<$("#DetailSMaintenanceDl").find("div").length){SetEventDetailSChipArea();SetEventDetailLChipArea()}$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly",
"true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");break;case C_SC3240201_WORKING:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly",
"true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");SetDetailReservationArea(false);
SetDetailCarWashArea(false);SetDetailWaitingArea(false);SetDetailCompleteExaminationArea(true);if(0<$("#DetailSMaintenanceDl").find("div").length){SetEventDetailSChipArea();SetEventDetailLChipArea()}$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly",
"true");break;case C_SC3240201_STOP:case C_SC3240201_WAIT_WASH:case C_SC3240201_WASHING:case C_SC3240201_WAIT_INSPECTION:case C_SC3240201_INSPECTION:case C_SC3240201_FINISH_WORK:case C_SC3240201_MIDFINISH:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled",
"true");$("#DetailSPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailSMaintenanceTypeList").attr("disabled","true");$("#DetailLMaintenanceTypeList").attr("disabled","true");$("#DetailSMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMercList").attr("disabled","true");$("#DetailLMercList").attr("disabled","true");SetReadOnlyDetailWorkTime();SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);SetDetailCompleteExaminationArea(false);if(0<$("#DetailSMaintenanceDl").find("div").length){SetEventDetailSChipArea();
SetEventDetailLChipArea()}$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");break;case C_SC3240201_WAIT_DELI:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanVisitDateTimeSelector").attr("readonly",
"true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailSPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly",
"true").attr("disabled","true");$("#DetailSMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMaintenanceTypeList").attr("disabled","true");$("#DetailLMaintenanceTypeList").attr("disabled","true");$("#DetailSMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMercList").attr("disabled","true");$("#DetailLMercList").attr("disabled","true");SetReadOnlyDetailWorkTime();
SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);SetDetailCompleteExaminationArea(false);SetReadOnlyDetailChipArea();$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");break;case C_SC3240201_CP_DELI:$("#DetailSPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailSPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanVisitLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanVisitDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanStartDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanStartLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanStartDateTimeSelector").attr("readonly",
"true").attr("disabled","true");$("#DetailSPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanFinishLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLPlanFinishDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailLPlanDeriveredLabel").addClass(C_SC3240201CLASS_TEXTBLACK);
$("#DetailLPlanDeriveredDateTimeSelector").attr("readonly","true").attr("disabled","true");$("#DetailSMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMaintenanceTypeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMaintenanceTypeList").attr("disabled","true");$("#DetailLMaintenanceTypeList").attr("disabled","true");$("#DetailSMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLMercLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailSMercList").attr("disabled",
"true");$("#DetailLMercList").attr("disabled","true");SetReadOnlyDetailWorkTime();SetDetailReservationArea(false);SetDetailCarWashArea(false);SetDetailWaitingArea(false);SetDetailCompleteExaminationArea(false);SetReadOnlyDetailChipArea();$("#DetailSOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLOrderTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLMemoTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly",
"true");break;default:break}}function SetReadOnlyDetailChipArea(){var detailSTableStallDl=$("#detailSTableChipUl dl");detailSTableStallDl.each(function(){$(this).find("dd").children(".SingleLine").css("color","#000")});var detailLChipTableDiv=$(".ChipDetailPopStyle .detailLTableChip2 #chipInfoTable").find("div");detailLChipTableDiv.each(function(){if($(this).hasClass(C_SC3240201CLASS_CHECKBLUE))$(this).removeClass(C_SC3240201CLASS_CHECKBLUE).addClass(C_SC3240201CLASS_CHECKBLACK)})}
function SetReadOnlyDetailWorkTime(){$("#DetailSWorkTimeTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailSWorkTimeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$("#DetailLWorkTimeTxt").addClass(C_SC3240201CLASS_TEXTBLACK).attr("readonly","true");$("#DetailLWorkTimeLabel").addClass(C_SC3240201CLASS_TEXTBLACK);$(".detailSWorkTime dd .detailSLeftArrow span").css("display","none");$(".detailSWorkTime dd .detailSRightArrow span").css("display","none");$(".detailLTableWorkTime dd .detailLLeftArrow span").css("display",
"none");$(".detailLTableWorkTime dd .detailLRightArrow span").css("display","none")}
function CheckChipDetailInputValue(){var rtnVal=0;var planVisit=smbScript.changeStringToDateIcrop($("#DetailSPlanVisitDateTimeSelector").get(0).value);var planStart=smbScript.changeStringToDateIcrop($("#DetailSPlanStartDateTimeSelector").get(0).value);var planEnd=smbScript.changeStringToDateIcrop($("#DetailSPlanFinishDateTimeSelector").get(0).value);var planDeli=smbScript.changeStringToDateIcrop($("#DetailSPlanDeriveredDateTimeSelector").get(0).value);var procVisit=$("#DetailSProcessVisitTimeLabel").attr("datetime");
var procStart=smbScript.changeStringToDateIcrop($("#DetailSProcessStartDateTimeSelector").get(0).value);var procEnd=smbScript.changeStringToDateIcrop($("#DetailSProcessFinishDateTimeSelector").get(0).value);var procDeli=$("#DetailSProcessDeriveredTimeLabel").attr("datetime");var procStartInit=$("#DetailSProcessStartDateTimeSelector").attr("date");if(procVisit=="")procVisit=null;if(procDeli=="")procDeli=null;var mercMandType=$("#MercMandatoryTypeHidden").val();if($("#MandatoryFlgHidden").val()=="1")if(planVisit==
null)return 924;else if(planDeli==null)return 925;if(mercMandType!=C_SC3240201_NOCHECK&&rtnVal==0){var maintenanceType=$("#DetailSMaintenanceTypeList").val();var mercType=$("#DetailSMercList").val();switch(mercMandType){case C_SC3240201_CHECK_MAINTE_AND_MERC:if(maintenanceType=="0"||maintenanceType==null)rtnVal=942;else if(mercType=="0"||mercType==null)if($("#DetailSMercList").attr("MERCITEM")==1)rtnVal=943;break;case C_SC3240201_CHECK_MAINTE:if(maintenanceType=="0"||maintenanceType==null)rtnVal=
942;break;default:break}}if(!$("#DetailSProcessStartDateTimeSelector").attr("readonly")&&!$("#DetailSProcessStartLabel").text())return 906;if(!$("#DetailSProcessFinishDateTimeSelector").attr("readonly")&&!$("#DetailSProcessFinishLabel").text())return 907;if(procStart!=null&&procEnd!=null&&!smbScript.CheckSameTwoDates(procStart,procEnd))return 903;if(procStart!=null&&!smbScript.CheckSameTwoDates(procStart,procStartInit))return 905;if(!smbScript.CheckChipInStallTime(gSC3240201DisplayChipStartTime,gSC3240201DisplayChipEndTime))return 911;
if(procStart!=null){if(!smbScript.CheckContextOfProcess(procVisit,procStart,procEnd,procDeli))return 909}else if(procVisit==null){if(!smbScript.CheckContextOfPlan(null,planStart,planEnd,planDeli))return 908}else if(!smbScript.CheckContextOfPlan(procVisit,planStart,planEnd,planDeli))return 939;return rtnVal}
function CreateChipDetailBeforeData(){var detailSTableStallDl=$("#detailSTableChipUl dl");gSC3240201Before_MatchingRezIdList=new Array;if(!$.isEmptyObject(detailSTableStallDl))detailSTableStallDl.each(function(i,elem){if(0<i)gSC3240201Before_MatchingRezIdList.push($(this).attr("selectrezid"))});gSC3240201Before_RezFlg=$("#RezFlgHidden").val();gSC3240201Before_CarWashFlg=$("#CarWashFlgHidden").val();gSC3240201Before_WaitingFlg=$("#WaitingFlgHidden").val();gSC3240201Before_Order=$("#DetailSOrderTxt").val();
gSC3240201Before_Memo=$("#DetailSMemoTxt").val();gSC3240201Before_CompleteExaminationFlg=$("#CompleteExaminationFlgHidden").val()}
function CreateMainteInfoList(){var detailSTableStallDl=$("#detailSTableChipUl dl");gSC3240201FixItemCodeList=new Array;gSC3240201JobinstrucDtlIdList=new Array;gSC3240201JobInstructSeqList=new Array;gSC3240201JobInstructIdList=new Array;gSC3240201RoJobSeqList=new Array;gSC3240201MatchingRezIdList=new Array;if(!$.isEmptyObject(detailSTableStallDl))detailSTableStallDl.each(function(i,elem){if(0<i){gSC3240201FixItemCodeList.push($(this).attr("fixitemcode"));gSC3240201JobinstrucDtlIdList.push($(this).attr("jobinstrucdtlid"));
gSC3240201JobInstructSeqList.push($(this).attr("jobinstructseq"));gSC3240201JobInstructIdList.push($(this).attr("jobinstructid"));gSC3240201RoJobSeqList.push($(this).attr("rojobseq"));gSC3240201MatchingRezIdList.push($(this).attr("selectrezid"))}})}
function CreateRezIdList(){var rezIdListDiv=$("#DetailSMaintenanceDl").find("div");gSC3240201RezIdList=new Array;gSC3240201RezId_StallUseStatusList=new Array;gSC3240201RezId_InvisibleInstructFlgList=new Array;if(!$.isEmptyObject(rezIdListDiv))rezIdListDiv.each(function(i,elem){var elemRezId=$(elem).attr("rezid");var elemRezId_stallUseStatus=$(elem).attr("stallusestatus");var elemInvisibleInstructFlg=$(elem).attr("InvisibleInstructFlg");if(elemRezId!="-1"){gSC3240201RezIdList.push(elemRezId);gSC3240201RezId_StallUseStatusList.push(elemRezId_stallUseStatus);
gSC3240201RezId_InvisibleInstructFlgList.push(elemInvisibleInstructFlg)}})}function ConvertNullToMinusNum(src){var rtnVal=-1;if(src!=null)rtnVal=src;return rtnVal}
function GetDisplayStartTime(){var rtnVal;var planStart=smbScript.changeStringToDateIcrop($("#DetailSPlanStartDateTimeSelector").get(0).value);var procStart=smbScript.changeStringToDateIcrop($("#DetailSProcessStartDateTimeSelector").get(0).value);if(procStart!=null)rtnVal=smbScript.ConvertDateToString(procStart);else rtnVal=smbScript.ConvertDateToString(planStart);return rtnVal}
function GetDisplayEndTime(){var rtnVal;var planEnd=smbScript.changeStringToDateIcrop($("#DetailSPlanFinishDateTimeSelector").get(0).value);var procStart=smbScript.changeStringToDateIcrop($("#DetailSProcessStartDateTimeSelector").get(0).value);var procEnd=smbScript.changeStringToDateIcrop($("#DetailSProcessFinishDateTimeSelector").get(0).value);var workTime=$("#DetailSWorkTimeTxt").val();if(procEnd)rtnVal=smbScript.ConvertDateToString(procEnd);else if(procStart)rtnVal=smbScript.ConvertDateToString(smbScript.CalcEndDateTime(procStart,
workTime));else rtnVal=smbScript.ConvertDateToString(planEnd);return rtnVal}function CalcSC3240201ProcWorkTime(){var rtnVal=0;var procStart=smbScript.changeStringToDateIcrop($("#DetailSProcessStartDateTimeSelector").get(0).value);var procEnd=smbScript.changeStringToDateIcrop($("#DetailSProcessFinishDateTimeSelector").get(0).value);var workTime=$("#DetailSWorkTimeTxt").val();if(procStart&&procEnd)rtnVal=smbScript.CalcTimeSpan(procStart,procEnd);return rtnVal}
function CalcSC3240201PrmsEndTime(){var rtnVal="";var wkVal="";var procStart=smbScript.changeStringToDateIcrop($("#DetailSProcessStartDateTimeSelector").get(0).value);var workTime=$("#DetailSWorkTimeTxt").val();if($("#ChipDetailStallUseStatusHidden").val()=="02")if(procStart&&workTime){wkVal=smbScript.CalcEndDate_ExcludeOutOfTime(procStart,$("#DetailSWorkTimeTxt").val());rtnVal=smbScript.ConvertDateToString2(wkVal)}return rtnVal}
function GetSC3240201ChipDispStartDate(){var rtnVal=0;var planStart=smbScript.changeStringToDateIcrop($("#DetailSPlanStartDateTimeSelector").get(0).value);var procStart=smbScript.changeStringToDateIcrop($("#DetailSProcessStartDateTimeSelector").get(0).value);if(IsMinDate(procStart)==false)rtnVal=procStart;else rtnVal=planStart;return rtnVal}
function SetSC3240201ROInfo(){var rtnVal="0";if(gSC3240201Before_RezFlg!=$("#RezFlgHidden").val()||gSC3240201Before_CarWashFlg!=$("#CarWashFlgHidden").val()||gSC3240201Before_WaitingFlg!=$("#WaitingFlgHidden").val()||gSC3240201Before_Order!=$("#DetailSOrderTxt").val()||gSC3240201Before_CompleteExaminationFlg!=$("#CompleteExaminationFlgHidden").val()||gSC3240201Before_Memo!=$("#DetailSMemoTxt").val())rtnVal="1";return rtnVal}
function getSC3240201VinName(){var rtnVal="";if($("#Visit_VINHidden").val()!="")rtnVal=$("#Visit_VINHidden").val();else rtnVal=$("#ChipDetail_VinHidden").val();return rtnVal}
function CalcInputStallStartTime(){var rtnVal=0;var planStart=smbScript.changeStringToDateIcrop($("#DetailSPlanStartDateTimeSelector").get(0).value);var procStart=smbScript.changeStringToDateIcrop($("#DetailSProcessStartDateTimeSelector").get(0).value);var wkStart;if(IsMinDate(procStart)==false)wkStart=procStart;else wkStart=planStart;if(wkStart!=null)rtnVal=new Date(wkStart.getFullYear()+"/"+(wkStart.getMonth()+1)+"/"+wkStart.getDate()+" "+$("#hidStallStartTime").val()+":00");else rtnVal=new Date;
return rtnVal}
function CalcInputStallEndTime(){var rtnVal=0;var planEnd=smbScript.changeStringToDateIcrop($("#DetailSPlanFinishDateTimeSelector").get(0).value);var procEnd=smbScript.changeStringToDateIcrop($("#DetailSProcessFinishDateTimeSelector").get(0).value);var wkEnd;if(IsMinDate(procEnd)==false)wkEnd=procEnd;else wkEnd=planEnd;if(wkEnd!=null)rtnVal=new Date(wkEnd.getFullYear()+"/"+(wkEnd.getMonth()+1)+"/"+wkEnd.getDate()+" "+$("#hidStallEndTime").val()+":00");else rtnVal=new Date;return rtnVal}
function CalcDetailSPopoverPosition(baseCtrl){var possibleDir={left:false,right:false};var ctrlPosition={popX:0,arrowX:0,arrowY:0};var popDispLeftX=baseCtrl.offset().left-($("#ChipDetailArrowMask").width()/2-3)-$("#ChipDetailPopupContent").width();var popDispRightX=baseCtrl.offset().left+baseCtrl.width()+($("#ChipDetailArrowMask").width()/2-3);if(popDispRightX+$("#ChipDetailPopupContent").width()<=$(document.body).width())possibleDir.right=true;else if(0<=popDispLeftX)possibleDir.left=true;if(possibleDir.right){ctrlPosition.popX=
popDispRightX;ctrlPosition.arrowX=C_SC3240201POP_DISPRIGHT_ARROW_X}else if(possibleDir.left){ctrlPosition.popX=popDispLeftX;ctrlPosition.arrowX=C_SC3240201POP_DISPLEFT_ARROW_X}else{ctrlPosition.popX=C_SC3240201POP_DISPRIGHT_DEFAULT_X;ctrlPosition.arrowX=C_SC3240201POP_DISPRIGHT_ARROW_X}ctrlPosition.arrowY=baseCtrl.offset().top+baseCtrl.height()/2-79;return ctrlPosition}
function SetDetailSPopoverPosition(ctrlPosition){$("#ChipDetailPopupContent").css("left",ctrlPosition.popX);$("#ChipDetailArrowMask").css({"left":ctrlPosition.arrowX,"top":ctrlPosition.arrowY});gDetailSPopX=ctrlPosition.popX}function ReDisplayChipDetail(){CloseChipDetail(0);ClearOperationList();setTimeout(function(){FooterEvent(C_FT_BTNID_DETAIL)},200)}
function HiddenSubChipBox(){$(".SubChipReception").fadeOut(300);$(".SubChipAdditionalWork").fadeOut(300);$(".SubChipCompletionInspection").fadeOut(300);$(".SubChipCarWash").fadeOut(300);$(".SubChipWaitingDelivered").fadeOut(300);$(".SubChipNoShow").fadeOut(300);$(".SubChipStop").fadeOut(300)}function DetailSWorkTimeLeft(){SetDetailWorkTime(-gResizeInterval);return false}function DetailSWorkTimeRight(){SetDetailWorkTime(gResizeInterval);return false}
function DetailLWorkTimeLeft(){SetDetailWorkTime(-gResizeInterval);return false}function DetailLWorkTimeRight(){SetDetailWorkTime(gResizeInterval);return false}
function SetDetailWorkTime(num){if($("#DetailSWorkTimeTxt").hasClass(C_SC3240201CLASS_TEXTBLACK)==true)return false;var min=parseInt($("#DetailSWorkTimeTxt").val(),C_RADIX);if(min<=gResizeInterval&&num<0||min>=C_SC3240201_MAXWORKTIME&&num>0)return false;min=min+num;$("#DetailSWorkTimeTxt").val(min);$("#DetailLWorkTimeTxt").val(min);$("#DetailSWorkTimeLabel").text(min+$("#WordWorkTimeUnitHidden").val());$("#DetailLWorkTimeLabel").text(min+$("#WordWorkTimeUnitHidden").val());var startDateTime=smbScript.changeStringToDateIcrop($("#DetailSPlanStartDateTimeSelector").get(0).value);
var startLabel=$("#DetailSPlanStartLabel").text();if(startLabel!=""&&!$("#DetailSPlanFinishDateTimeSelector")[0].disabled){var newEndDateTime=smbScript.CalcEndDate_ExcludeOutOfTime(startDateTime,min);$("#DetailSPlanFinishDateTimeSelector").get(0).value=smbScript.getDateTimelocalDate(newEndDateTime);$("#DetailSPlanFinishLabel").text(smbScript.ConvertDateOrTime(newEndDateTime,$("#hidShowDate").val()));$("#DetailLPlanFinishDateTimeSelector").get(0).value=smbScript.getDateTimelocalDate(newEndDateTime);
$("#DetailLPlanFinishLabel").text($("#DetailSPlanFinishLabel").text());$("#DetailRegisterBtn").attr("disabled",IsMandatoryChipDetailEmpty())}return false}
function DetailSCustButton(){$("#DetailSCustBtnDiv").addClass("icrop-pressed");if($("#DmsCstCdHidden").val()==""){icropScript.ShowMessageBox(920,$("#DetailCstBtnErrMsgHidden").val(),"");$("#DetailSCustBtnDiv").removeClass("icrop-pressed")}else{setTimeout(function(){gDetailSActiveIndicator.show();gDetailOverlay.show();$("#DetailSCustBtnDiv").removeClass("icrop-pressed")},300);commonRefreshTimer(ReDisplayChipDetail);$("#DetailCustButtonDummy").click()}return false}
function DetailSROButton(){$("#DetailSRORefBtnDiv").addClass("icrop-pressed");setTimeout(function(){gDetailSActiveIndicator.show();gDetailOverlay.show();$("#DetailSRORefBtnDiv").removeClass("icrop-pressed")},300);commonRefreshTimer(ReDisplayChipDetail);$("#DetailROButtonDummy").click();return false}
function DetailLCustButton(){$("#DetailLCustBtnDiv").addClass("icrop-pressed");if($("#DmsCstCdHidden").val()==""){icropScript.ShowMessageBox(920,$("#DetailCstBtnErrMsgHidden").val(),"");$("#DetailLCustBtnDiv").removeClass("icrop-pressed")}else{setTimeout(function(){gDetailSActiveIndicator.show();gDetailOverlay.show();$("#DetailLCustBtnDiv").removeClass("icrop-pressed")},300);commonRefreshTimer(ReDisplayChipDetail);$("#DetailCustButtonDummy").click()}return false}
function DetailLROButton(){$("#DetailLRORefBtnDiv").addClass("icrop-pressed");setTimeout(function(){gDetailSActiveIndicator.show();gDetailOverlay.show();$("#DetailLRORefBtnDiv").removeClass("icrop-pressed")},300);commonRefreshTimer(ReDisplayChipDetail);$("#DetailROButtonDummy").click();return false}function IsMinDate(dtDate){var dtMin=new Date(C_SC3240201_DATE_MIN_VALUE);if(dtDate==null||dtDate=="")return true;else if(dtDate-dtMin==0)return true;else return false}
function ClickBtnStartByDetail(nType){if(IsTodayPage()==false){alert(htmlDecode($("#JobStartDtlErrMsgHidden").val()));gDetailSActiveIndicator.hide();gDetailOverlay.hide();return false}gDetailSActiveIndicator.show();gDetailOverlay.show();commonRefreshTimer(ReDisplayChipDetail);var strChipId=gSelectedChipId;var bStartChipFlg=false;if(gArrObjChip[strChipId].svcStatus!="05")$("#"+strChipId).offsetParent().children("div").each(function(index,e){if(gArrObjChip[e.id])if(IsDefaultDate(gArrObjChip[e.id].rsltStartDateTime)==
false&&IsDefaultDate(gArrObjChip[e.id].rsltEndDateTime)==true)bStartChipFlg=true});if(bStartChipFlg){ShowSC3240101Msg(905);gDetailSActiveIndicator.hide();gDetailOverlay.hide();commonClearTimer();return}var dtStartNow=GetServerTimeNow();dtStartNow.setSeconds(0);dtStartNow.setMilliseconds(0);if($("#DetailLMaintenanceTypeLabel")[0].textContent.toString().Trim()==""){ShowSC3240101Msg(904);gDetailSActiveIndicator.hide();gDetailOverlay.hide();commonClearTimer();return}StartByChipDetail(null,null,nType)}
function ClickBtnFinishByDetail(nType,nJobInstructId,nJobInstructSeq){gDetailSActiveIndicator.show();gDetailOverlay.show();commonRefreshTimer(ReDisplayChipDetail);FinishByChipDetail(nType,nJobInstructId,nJobInstructSeq)}
function ClickBtnStopJobByDetail(){var strChipId=gSelectedChipId;var dtEndNow;if(IsTodayPage()==false)dtEndNow=new Date($("#hidShowDate").val()+" "+$("#hidStallEndTime").val()+":00");else{dtEndNow=GetServerTimeNow();dtEndNow.setSeconds(0);dtEndNow.setMilliseconds(0)}var dtStart=gArrObjChip[strChipId].rsltStartDateTime;ShowStopDialog(true)}
function StartByChipDetail(nRestFlg,nReStartJobFlg,nType){var jonInstructId;var jonInstructSeq;var strChipId=gSelectedChipId;var dtStartNow=GetServerTimeNow();dtStartNow.setSeconds(0);dtStartNow.setMilliseconds(0);var dtNowDateTime=new Date;dtNowDateTime.setTime(dtStartNow.getTime());if(gSC3240201JobInstructIdList.length>0)jonInstructId=gSC3240201JobInstructIdList[0];if(gSC3240201JobInstructSeqList.length>0)jonInstructSeq=gSC3240201JobInstructSeqList[0];var jsonData;if(gArrObjChip[strChipId].svcStatus==
"05")jsonData={Method:nType,DlrCD:$("#hidDlrCD").val(),StrCD:$("#hidBrnCD").val(),ShowDate:$("#hidShowDate").val(),SvcInId:gArrObjChip[strChipId].svcInId,JobDtlId:gArrObjChip[strChipId].jobDtlId,ReStartJobFlg:nReStartJobFlg,StallUseId:gArrObjChip[strChipId].stallUseId,StallUseStatus:gArrObjChip[strChipId].stallUseStatus,StallId:gArrObjChip[strChipId].stallId,ChipDispStartDate:gArrObjChip[strChipId].rsltStartDateTime,StartProcessTime:dtNowDateTime,ProcWorkTime:gArrObjChip[strChipId].scheWorkTime,RowLockVersion:gArrObjChip[strChipId].rowLockVersion,
SubAreaId:"",RONum:gArrObjChip[strChipId].roNum,StallStartTime:$("#hidStallStartTime").val(),StallEndTime:$("#hidStallEndTime").val(),ChipStartFlg:gStartChipFig};else jsonData={Method:nType,DlrCD:$("#hidDlrCD").val(),StrCD:$("#hidBrnCD").val(),ShowDate:$("#hidShowDate").val(),SvcInId:gArrObjChip[strChipId].svcInId,JobDtlId:gArrObjChip[strChipId].jobDtlId,ReStartJobFlg:nReStartJobFlg,StallUseId:gArrObjChip[strChipId].stallUseId,StallUseStatus:gArrObjChip[strChipId].stallUseStatus,StallId:gArrObjChip[strChipId].stallId,
ChipDispStartDate:dtNowDateTime,StartProcessTime:dtNowDateTime,PlanWorkTime:gArrObjChip[strChipId].scheWorkTime,RowLockVersion:gArrObjChip[strChipId].rowLockVersion,SubAreaId:"",RONum:gArrObjChip[strChipId].roNum,StallStartTime:$("#hidStallStartTime").val(),StallEndTime:$("#hidStallEndTime").val(),ChipStartFlg:gStartChipFig};if(jonInstructId){jsonData.JobInstructId=jonInstructId;jsonData.JobInstructSeq=jonInstructSeq}if(nRestFlg)jsonData.RestFlg=nRestFlg;gBackupStartJson[gArrObjChip[strChipId].stallUseId]=
jsonData;DoCallBack(C_CALLBACK_WND201,jsonData,AfterCallBackActionOperation,jsonData.Method)}
function FinishByChipDetail(nType,nJobInstructId,nJobInstructSeq){var strChipId=gSelectedChipId;var dtEndNow=GetServerTimeNow();var jsonData;jsonData={Method:nType,DlrCD:$("#hidDlrCD").val(),StrCD:$("#hidBrnCD").val(),ShowDate:$("#hidShowDate").val(),SvcInId:gArrObjChip[strChipId].svcInId,JobDtlId:gArrObjChip[strChipId].jobDtlId,JobInstructId:nJobInstructId,JobInstructSeq:nJobInstructSeq,StallUseId:gArrObjChip[strChipId].stallUseId,StallUseStatus:gArrObjChip[strChipId].stallUseStatus,StallId:gArrObjChip[strChipId].stallId,
PlanWorkTime:gArrObjChip[strChipId].scheWorkTime,FinishProcessTime:dtEndNow,ChipDispStartDate:gArrObjChip[strChipId].rsltStartDateTime,RowLockVersion:gArrObjChip[strChipId].rowLockVersion,SubAreaId:"",RONum:gArrObjChip[strChipId].roNum,StallStartTime:$("#hidStallStartTime").val(),StallEndTime:$("#hidStallEndTime").val(),ChipFinishFlg:gFinishChipFig};gBackupStartJson[gArrObjChip[strChipId].stallUseId]=jsonData;DoCallBack(C_CALLBACK_WND201,jsonData,AfterCallBackActionOperation,jsonData.Method)}
function StopByChipDetail(strStopReasonType,nStopTime,strStopMemo,nRestFlg){var dtEndNow=GetServerTimeNow();var strChipId=gSelectedChipId;var jonInstructId;var jonInstructSeq;var nStoptype="AllStop";var dtStartNow=GetServerTimeNow();dtStartNow.setSeconds(0);dtStartNow.setMilliseconds(0);var dtNowDateTime=new Date;dtNowDateTime.setTime(dtStartNow.getTime());gDetailSActiveIndicator.show();gDetailOverlay.show();commonRefreshTimer(ReDisplayChipDetail);if(gSC3240201JobInstructIdList.length>0){jonInstructId=
gSC3240201JobInstructIdList[0];nStoptype="SingleStop"}if(gSC3240201JobInstructSeqList.length>0)jonInstructSeq=gSC3240201JobInstructSeqList[0];var jsonData;if(jonInstructId)jsonData={Method:nStoptype,DlrCD:$("#hidDlrCD").val(),StrCD:$("#hidBrnCD").val(),ShowDate:$("#hidShowDate").val(),SvcInId:gArrObjChip[strChipId].svcInId,JobDtlId:gArrObjChip[strChipId].jobDtlId,StallUseId:gArrObjChip[strChipId].stallUseId,ChipDispStartDate:gArrObjChip[strChipId].rsltStartDateTime,PlanWorkTime:gArrObjChip[strChipId].scheWorkTime,
FinishProcessTime:dtEndNow,JobInstructId:jonInstructId,JobInstructSeq:jonInstructSeq,StallUseStatus:gArrObjChip[strChipId].stallUseStatus,StallId:gArrObjChip[strChipId].stallId,SubAreaId:"",RONum:gArrObjChip[strChipId].roNum,StallWaitTime:nStopTime,StopReasonType:strStopReasonType,StopMemo:strStopMemo,RowLockVersion:gArrObjChip[strChipId].rowLockVersion,StallStartTime:$("#hidStallStartTime").val(),StallEndTime:$("#hidStallEndTime").val(),ChipStopFlg:gStopChipFig};else jsonData={Method:nStoptype,DlrCD:$("#hidDlrCD").val(),
StrCD:$("#hidBrnCD").val(),ShowDate:$("#hidShowDate").val(),SvcInId:gArrObjChip[strChipId].svcInId,JobDtlId:gArrObjChip[strChipId].jobDtlId,StallUseId:gArrObjChip[strChipId].stallUseId,ChipDispStartDate:gArrObjChip[strChipId].rsltStartDateTime,FinishProcessTime:dtEndNow,PlanWorkTime:gArrObjChip[strChipId].scheWorkTime,StallUseStatus:gArrObjChip[strChipId].stallUseStatus,StallId:gArrObjChip[strChipId].stallId,SubAreaId:"",RONum:gArrObjChip[strChipId].roNum,StallWaitTime:nStopTime,StopReasonType:strStopReasonType,
StopMemo:strStopMemo,RowLockVersion:gArrObjChip[strChipId].rowLockVersion,StallStartTime:$("#hidStallStartTime").val(),StallEndTime:$("#hidStallEndTime").val(),ChipStopFlg:gStopChipFig};if(nRestFlg)jsonData.RestFlg=nRestFlg;gBackupStartJson[gArrObjChip[strChipId].stallUseId]=jsonData;DoCallBack(C_CALLBACK_WND201,jsonData,AfterCallBackActionOperation,jsonData.Method)}
function AfterCallBackActionOperation(result){var jsonResult=JSON.parse(result);commonClearTimer();var resultCD=jsonResult.ResultCode;if(resultCD!=0&&resultCD!=-9E3)if(resultCD==8){var result=confirm(htmlDecode($("#WordDuplicateRestOrUnavailableHidden").val()));var restFlg=0;if(result)restFlg=1;if(jsonResult.Caller=="AllStart"||jsonResult.Caller=="SingleStart"||jsonResult.Caller=="ReStart")gBackupStartJson[gSelectedChipId].ReStartJobFlg=C_RESTARTJOB_NOTSET;else if(jsonResult.Caller=="AllFinish"||
jsonResult.Caller=="SingleFinish")gBackupStartJson[gSelectedChipId].FinishStopJobFlg=C_RESTARTJOB_NOTSET;else if(jsonResult.Caller=="AllStop"||jsonResult.Caller=="SingleStop")gBackupStartJson[gSelectedChipId].ChipStopFlg="0";gBackupStartJson[gSelectedChipId].RestFlg=restFlg;commonRefreshTimer(ReDisplayChipDetail);AfterCallBack();DoCallBack(C_CALLBACK_WND201,gBackupStartJson[gSelectedChipId],AfterCallBackActionOperation,"ClickAllStartButton")}else if(resultCD==14){var reStartFlg=2;if(confirm(htmlDecode(jsonResult.Message)))reStartFlg=
1;if(jsonResult.Caller=="AllStart"||jsonResult.Caller=="SingleStart"||jsonResult.Caller=="ReStart"){gBackupStartJson[gSelectedChipId].ReStartJobFlg=reStartFlg;commonRefreshTimer(ReDisplayChipDetail);AfterCallBack();DoCallBack(C_CALLBACK_WND201,gBackupStartJson[gSelectedChipId],AfterCallBackActionOperation,jsonResult.Caller)}else if(jsonResult.Caller=="AllFinish"||jsonResult.Caller=="SingleFinish")if(reStartFlg==2){AfterCallBack();gDetailSActiveIndicator.hide();gDetailOverlay.hide();gMainAreaActiveIndicator.hide();
return false}else{gBackupStartJson[gSelectedChipId].FinishStopJobFlg=reStartFlg;commonRefreshTimer(ReDisplayChipDetail);AfterCallBack();DoCallBack(C_CALLBACK_WND201,gBackupStartJson[gSelectedChipId],AfterCallBackActionOperation,jsonResult.Caller)}}else if(resultCD==15){var result=confirm(htmlDecode($("#WordDuplicateRestOrUnavailableHidden").val()));var restFlg=0;if(result)restFlg=1;var reStartFlg=2;if(confirm(htmlDecode(jsonResult.Message)))reStartFlg=1;if(jsonResult.Caller=="AllStart"||jsonResult.Caller==
"SingleStart"||jsonResult.Caller=="ReStart"){gBackupStartJson[gSelectedChipId].RestFlg=restFlg;gBackupStartJson[gSelectedChipId].ReStartJobFlg=reStartFlg;commonRefreshTimer(ReDisplayChipDetail);AfterCallBack();DoCallBack(C_CALLBACK_WND201,gBackupStartJson[gSelectedChipId],AfterCallBackActionOperation,"ClickAllStartButton")}else if(jsonResult.Caller=="AllFinish"||jsonResult.Caller=="SingleFinish")if(reStartFlg==2){AfterCallBack();gDetailSActiveIndicator.hide();gDetailOverlay.hide();gMainAreaActiveIndicator.hide();
return false}else{gBackupStartJson[gSelectedChipId].RestFlg=restFlg;gBackupStartJson[gSelectedChipId].FinishStopJobFlg=reStartFlg;commonRefreshTimer(ReDisplayChipDetail);AfterCallBack();DoCallBack(C_CALLBACK_WND201,gBackupStartJson[gSelectedChipId],AfterCallBackActionOperation,jsonResult.Caller)}}else{icropScript.ShowMessageBox(resultCD,htmlDecode(jsonResult.Message),"");gDetailSActiveIndicator.hide();gDetailOverlay.hide();gMainAreaActiveIndicator.hide();AfterCallBack()}else{gStopChipFig="1";gStartChipFig=
"1";gFinishChipFig="1";ShowLatestChips(htmlDecode(jsonResult.StallChipInfo),true,false);if(jsonResult.ResultCode==-9E3)icropScript.ShowMessageBox(jsonResult.ResultCode,jsonResult.Message,"");var strStallIdleId=jsonResult.NewStallIdleId;if(strStallIdleId!="0"&&strStallIdleId!=""){UpdateIdleArea(htmlDecode(jsonResult.StallIdleInfo));BindUnavailableAreaEvent(C_UNAVALIABLECHIPID+strStallIdleId)}if(jsonResult.Caller=="AllStop"||jsonResult.Caller=="SingleStop"||jsonResult.Caller=="SingleFinish"||jsonResult.Caller==
"AllFinish"){gMainAreaActiveIndicator.hide();StopButtonRefresh()}else if(jsonResult.Caller=="AllStart"||jsonResult.Caller=="SingleStart"||jsonResult.Caller=="ReStart")SetWorkingChipHis(htmlDecode(jsonResult.WorkingChipHisInfo));if(!CheckgArrObjChip(gSelectedChipId)&&!CheckgArrObjSubChip(gSelectedChipId)){gDetailSActiveIndicator.hide();gDetailOverlay.hide();gMainAreaActiveIndicator.hide();HideChipDetailPopup();SetTableUnSelectedStatus();SetChipUnSelectedStatus();AfterCallBack();return}InitPageForJobDispatch(result,
"");var strSelectedChipId=gSelectedChipId;SetChipUnSelectedStatus();SetTableUnSelectedStatus();TapStallChip(strSelectedChipId);HideAllFooterButton();var baseCtrl=$("#"+strSelectedChipId);SetDetailSPopoverPosition(CalcDetailSPopoverPosition(baseCtrl));ExpandDisplay();gDetailSActiveIndicator.hide();gDetailOverlay.hide();gMainAreaActiveIndicator.hide();CopyToDetailLWord();CopyToDetailLData();AfterCallBack();var errorMsg=$("#PartsDtlErrMsgHidden").val();if(errorMsg!="")icropScript.ShowMessageBox("",errorMsg,
"")}}function InitPageForJobDispatch(result,context){var scrollInner=$("#ChipDetailLContent .scroll-inner").attr("style");var jsonResult=JSON.parse(result);SetChipDetailContents(jsonResult.Contents);$("#ChipDetailSContent").fingerScroll();$("#ChipDetailLContent").fingerScroll();$("#ChipDetailLContent .scroll-inner").attr("style",scrollInner);$("#scrollChip").SC3240201fingerScroll();$("#ChipDetailPopup .ChipDetailEllipsis").CustomLabel({useEllipsis:true});SetChipDetailDisplayAndEvent()}
function SetChipDetailContentsForJobDispatch(cbResult){var contents=$("<Div>").html(cbResult).text();var detailS=$(contents).find("#ChipDetailSContent");var detailL=$(contents).find("#ChipDetailLContent");var detailHidden=$(contents).find("#SC3240201HiddenArea");$("#ChipDetailSContent>div").remove();detailS.children("div").clone(true).appendTo("#ChipDetailSContent");$("#ChipDetailLContent>div").remove();detailL.children("div").clone(true).appendTo("#ChipDetailLContent");$("#SC3240201HiddenArea>div").remove();
detailHidden.children("div").clone(true).appendTo("#SC3240201HiddenArea")};
